<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.0.15">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Taylor Dunn">
<meta name="dcterms.date" content="2021-05-18">
<meta name="description" content="#TidyTuesday 2021-05-18: Ask a Manager Salary Survey.">

<title>tdunn - TidyTuesday 2021 Week 21</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../td.ico" rel="icon">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

<script type="text/javascript">

(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-196523553-1', 'auto');

ga('send', {
  hitType: 'pageview',
  'anonymizeIp': true,
});
</script>

<link href="../../site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet">
<script src="../../site_libs/pagedtable-1.1/js/pagedtable.js"></script>


<meta property="og:title" content="tdunn - TidyTuesday 2021 Week 21">
<meta property="og:description" content="#TidyTuesday 2021-05-18: Ask a Manager Salary Survey.">
<meta property="og:image" content="https://tdunn.ca/posts\2021-05-18-tidytuesday-2021-week-21\preview.png">
<meta property="og:site-name" content="tdunn">
<meta property="og:image:height" content="1500">
<meta property="og:image:width" content="1800">
<meta name="twitter:title" content="tdunn - TidyTuesday 2021 Week 21">
<meta name="twitter:description" content="#TidyTuesday 2021-05-18: Ask a Manager Salary Survey.">
<meta name="twitter:image" content="https://tdunn.ca/posts\2021-05-18-tidytuesday-2021-week-21\preview.png">
<meta name="twitter:creator" content="@TDunn12">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image-height" content="1500">
<meta name="twitter:image-width" content="1800">
</head>

<body class="floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">tdunn</span>
  </a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html">Posts</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../projects/index.html">Projects</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html">About</a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/taylordunn"><i class="bi bi-github" role="img">
</i> 
 </a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/TDunn12"><i class="bi bi-twitter" role="img">
</i> 
 </a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/dunn-taylor/"><i class="bi bi-linkedin" role="img">
</i> 
 </a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default toc-left page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">TidyTuesday 2021 Week 21</h1>
                  <div>
        <div class="description">
          <p>#TidyTuesday 2021-05-18: Ask a Manager Salary Survey.</p>
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">R</div>
                <div class="quarto-category">TidyTuesday</div>
                <div class="quarto-category">text mining</div>
                <div class="quarto-category">data visualization</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Taylor Dunn <a href="https://orcid.org/0000-0001-8042-1611" class="quarto-title-author-orcid"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg=="></a></p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">May 18, 2021</p>
      </div>
    </div>
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <nav id="TOC" role="doc-toc">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#load-the-data" id="toc-load-the-data" class="nav-link active" data-scroll-target="#load-the-data">Load the data</a></li>
  <li><a href="#explore-the-data" id="toc-explore-the-data" class="nav-link" data-scroll-target="#explore-the-data">Explore the data</a></li>
  <li><a href="#analysis-data-oriented-professions-in-north-america" id="toc-analysis-data-oriented-professions-in-north-america" class="nav-link" data-scroll-target="#analysis-data-oriented-professions-in-north-america">Analysis: data-oriented professions in North America</a>
  <ul class="collapse">
  <li><a href="#final-plot" id="toc-final-plot" class="nav-link" data-scroll-target="#final-plot">Final plot</a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/taylordunn/tdunn-quarto/edit/main/posts/2021-05-18-tidytuesday-2021-week-21/tidytuesday-2021-week-21.qmd" class="toc-action">Edit this page</a></p><p><a href="https://github.com/taylordunn/tdunn-quarto/issues/new" class="toc-action">Report an issue</a></p></div></div></nav>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<div class="cell">
<details>
<summary>R setup</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidytuesdayR)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gt)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dunnr)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>extrafont<span class="sc">::</span><span class="fu">loadfonts</span>(<span class="at">device =</span> <span class="st">"win"</span>, <span class="at">quiet =</span> <span class="cn">TRUE</span>)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">theme_set</span>(<span class="fu">theme_td</span>())</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">set_geom_fonts</span>()</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="fu">set_palette</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="load-the-data" class="level2">
<h2 class="anchored" data-anchor-id="load-the-data">Load the data</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>tt <span class="ot">&lt;-</span> <span class="fu">tt_load</span>(<span class="st">"2021-05-18"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The data this week comes from the Ask a Manager Survey. From the README:</p>
<blockquote class="blockquote">
<p>The salary survey a few weeks ago got a huge response — 24,000+ people shared their salaries and other info, which is a lot of raw data to sift through. Reader Elisabeth Engl kindly took the raw data and analyzed some of the trends in it and here’s what she found. (She asked me to note that she did this as a fun project to share some insights from the survey, rather than as a paid engagement.)</p>
<p>This data does not reflect the general population; it reflects Ask a Manager readers who self-selected to respond, which is a very different group (as you can see just from the demographic breakdown below, which is very white and very female).</p>
</blockquote>
</section>
<section id="explore-the-data" class="level2">
<h2 class="anchored" data-anchor-id="explore-the-data">Explore the data</h2>
<p>It comes with just the single dataframe:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>survey <span class="ot">&lt;-</span> tt<span class="sc">$</span>survey</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(survey)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 26,232
Columns: 18
$ timestamp                                &lt;chr&gt; "4/27/2021 11:02:10", "4/27/2…
$ how_old_are_you                          &lt;chr&gt; "25-34", "25-34", "25-34", "2…
$ industry                                 &lt;chr&gt; "Education (Higher Education)…
$ job_title                                &lt;chr&gt; "Research and Instruction Lib…
$ additional_context_on_job_title          &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, "…
$ annual_salary                            &lt;dbl&gt; 55000, 54600, 34000, 62000, 6…
$ other_monetary_comp                      &lt;dbl&gt; 0, 4000, NA, 3000, 7000, NA, …
$ currency                                 &lt;chr&gt; "USD", "GBP", "USD", "USD", "…
$ currency_other                           &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, N…
$ additional_context_on_income             &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, N…
$ country                                  &lt;chr&gt; "United States", "United King…
$ state                                    &lt;chr&gt; "Massachusetts", NA, "Tenness…
$ city                                     &lt;chr&gt; "Boston", "Cambridge", "Chatt…
$ overall_years_of_professional_experience &lt;chr&gt; "5-7 years", "8 - 10 years", …
$ years_of_experience_in_field             &lt;chr&gt; "5-7 years", "5-7 years", "2 …
$ highest_level_of_education_completed     &lt;chr&gt; "Master's degree", "College d…
$ gender                                   &lt;chr&gt; "Woman", "Non-binary", "Woman…
$ race                                     &lt;chr&gt; "White", "White", "White", "W…</code></pre>
</div>
</div>
<p>Looks like each row corresponds to a single survey. 26232 survey responses is really impressive. Here is how those were gathered over time:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert character timestamp to a datetime object so we can plot it</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>survey <span class="ot">&lt;-</span> survey <span class="sc">%&gt;%</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">timestamp =</span> lubridate<span class="sc">::</span><span class="fu">parse_date_time</span>(timestamp, <span class="at">orders =</span> <span class="st">"mdy HMS"</span>),</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">survey_date =</span> <span class="fu">as.Date</span>(timestamp)</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>survey <span class="sc">%&gt;%</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> survey_date)) <span class="sc">+</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">fill =</span> td_colors<span class="sc">$</span>nice<span class="sc">$</span>day9_yellow, <span class="at">alpha =</span> <span class="fl">0.6</span>) <span class="sc">+</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">expand =</span> <span class="fu">expansion</span>(<span class="fu">c</span>(<span class="dv">0</span>, <span class="fl">0.07</span>))) <span class="sc">+</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_date</span>(<span class="at">breaks =</span> <span class="fu">seq.Date</span>(<span class="fu">as.Date</span>(<span class="st">"2021-05-01"</span>),</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>                                 <span class="fu">as.Date</span>(<span class="st">"2021-06-01"</span>), <span class="at">by =</span> <span class="st">"week"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="tidytuesday-2021-week-21_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Over 10,000 responses in one day!</p>
<p>Here are the age ranges:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>survey <span class="sc">%&gt;%</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(how_old_are_you) <span class="sc">%&gt;%</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div id="kdpqukhqbi" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#kdpqukhqbi .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#kdpqukhqbi .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#kdpqukhqbi .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#kdpqukhqbi .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#kdpqukhqbi .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#kdpqukhqbi .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#kdpqukhqbi .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#kdpqukhqbi .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#kdpqukhqbi .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#kdpqukhqbi .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#kdpqukhqbi .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#kdpqukhqbi .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#kdpqukhqbi .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#kdpqukhqbi .gt_from_md > :first-child {
  margin-top: 0;
}

#kdpqukhqbi .gt_from_md > :last-child {
  margin-bottom: 0;
}

#kdpqukhqbi .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#kdpqukhqbi .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#kdpqukhqbi .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#kdpqukhqbi .gt_row_group_first td {
  border-top-width: 2px;
}

#kdpqukhqbi .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#kdpqukhqbi .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#kdpqukhqbi .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#kdpqukhqbi .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#kdpqukhqbi .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#kdpqukhqbi .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#kdpqukhqbi .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#kdpqukhqbi .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#kdpqukhqbi .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#kdpqukhqbi .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#kdpqukhqbi .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#kdpqukhqbi .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#kdpqukhqbi .gt_left {
  text-align: left;
}

#kdpqukhqbi .gt_center {
  text-align: center;
}

#kdpqukhqbi .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#kdpqukhqbi .gt_font_normal {
  font-weight: normal;
}

#kdpqukhqbi .gt_font_bold {
  font-weight: bold;
}

#kdpqukhqbi .gt_font_italic {
  font-style: italic;
}

#kdpqukhqbi .gt_super {
  font-size: 65%;
}

#kdpqukhqbi .gt_two_val_uncert {
  display: inline-block;
  line-height: 1em;
  text-align: right;
  font-size: 60%;
  vertical-align: -0.25em;
  margin-left: 0.1em;
}

#kdpqukhqbi .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

#kdpqukhqbi .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#kdpqukhqbi .gt_slash_mark {
  font-size: 0.7em;
  line-height: 0.7em;
  vertical-align: 0.15em;
}

#kdpqukhqbi .gt_fraction_numerator {
  font-size: 0.6em;
  line-height: 0.6em;
  vertical-align: 0.45em;
}

#kdpqukhqbi .gt_fraction_denominator {
  font-size: 0.6em;
  line-height: 0.6em;
  vertical-align: -0.05em;
}
</style>
<table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">how_old_are_you</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">n</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td class="gt_row gt_left">18-24</td>
<td class="gt_row gt_right">1015</td></tr>
    <tr><td class="gt_row gt_left">25-34</td>
<td class="gt_row gt_right">11748</td></tr>
    <tr><td class="gt_row gt_left">35-44</td>
<td class="gt_row gt_right">9398</td></tr>
    <tr><td class="gt_row gt_left">45-54</td>
<td class="gt_row gt_right">3042</td></tr>
    <tr><td class="gt_row gt_left">55-64</td>
<td class="gt_row gt_right">931</td></tr>
    <tr><td class="gt_row gt_left">65 or over</td>
<td class="gt_row gt_right">88</td></tr>
    <tr><td class="gt_row gt_left">under 18</td>
<td class="gt_row gt_right">10</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
<p>Convert to an ordered factor:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>survey <span class="ot">&lt;-</span> survey <span class="sc">%&gt;%</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">age_range =</span> <span class="fu">fct_reorder</span>(</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>      how_old_are_you,</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>      <span class="co"># This will order the factor by the first number in how_old_are_you</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>      <span class="fu">parse_number</span>(how_old_are_you)</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>      <span class="fu">fct_relevel</span>(<span class="st">"under 18"</span>)</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>survey <span class="sc">%&gt;%</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">y =</span> age_range)) <span class="sc">+</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">fill =</span> age_range), <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_viridis_d</span>() <span class="sc">+</span></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">expand =</span> <span class="fu">expansion</span>(<span class="fu">c</span>(<span class="dv">0</span>, <span class="fl">0.05</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="tidytuesday-2021-week-21_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Out of curiosity, these are the 10 survey respondents listed as “under 18”:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>survey <span class="sc">%&gt;%</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(age_range <span class="sc">==</span> <span class="st">"under 18"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(industry, job_title, annual_salary, country,</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>         overall_years_of_professional_experience) <span class="sc">%&gt;%</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div id="dgbupjurku" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#dgbupjurku .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#dgbupjurku .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#dgbupjurku .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#dgbupjurku .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#dgbupjurku .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#dgbupjurku .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#dgbupjurku .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#dgbupjurku .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#dgbupjurku .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#dgbupjurku .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#dgbupjurku .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#dgbupjurku .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#dgbupjurku .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#dgbupjurku .gt_from_md > :first-child {
  margin-top: 0;
}

#dgbupjurku .gt_from_md > :last-child {
  margin-bottom: 0;
}

#dgbupjurku .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#dgbupjurku .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#dgbupjurku .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#dgbupjurku .gt_row_group_first td {
  border-top-width: 2px;
}

#dgbupjurku .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#dgbupjurku .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#dgbupjurku .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#dgbupjurku .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#dgbupjurku .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#dgbupjurku .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#dgbupjurku .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#dgbupjurku .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#dgbupjurku .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#dgbupjurku .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#dgbupjurku .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#dgbupjurku .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#dgbupjurku .gt_left {
  text-align: left;
}

#dgbupjurku .gt_center {
  text-align: center;
}

#dgbupjurku .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#dgbupjurku .gt_font_normal {
  font-weight: normal;
}

#dgbupjurku .gt_font_bold {
  font-weight: bold;
}

#dgbupjurku .gt_font_italic {
  font-style: italic;
}

#dgbupjurku .gt_super {
  font-size: 65%;
}

#dgbupjurku .gt_two_val_uncert {
  display: inline-block;
  line-height: 1em;
  text-align: right;
  font-size: 60%;
  vertical-align: -0.25em;
  margin-left: 0.1em;
}

#dgbupjurku .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

#dgbupjurku .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#dgbupjurku .gt_slash_mark {
  font-size: 0.7em;
  line-height: 0.7em;
  vertical-align: 0.15em;
}

#dgbupjurku .gt_fraction_numerator {
  font-size: 0.6em;
  line-height: 0.6em;
  vertical-align: 0.45em;
}

#dgbupjurku .gt_fraction_denominator {
  font-size: 0.6em;
  line-height: 0.6em;
  vertical-align: -0.05em;
}
</style>
<table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">industry</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">job_title</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">annual_salary</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">country</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">overall_years_of_professional_experience</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td class="gt_row gt_left">Education (Primary/Secondary)</td>
<td class="gt_row gt_left">Teacher</td>
<td class="gt_row gt_right">45000</td>
<td class="gt_row gt_left">USA</td>
<td class="gt_row gt_left">21 - 30 years</td></tr>
    <tr><td class="gt_row gt_left">Health care</td>
<td class="gt_row gt_left">Undergraduate Research Assistant</td>
<td class="gt_row gt_right">17000</td>
<td class="gt_row gt_left">United States</td>
<td class="gt_row gt_left">2 - 4 years</td></tr>
    <tr><td class="gt_row gt_left">Retail</td>
<td class="gt_row gt_left">Walmart cashier</td>
<td class="gt_row gt_right">32552</td>
<td class="gt_row gt_left">Canada</td>
<td class="gt_row gt_left">2 - 4 years</td></tr>
    <tr><td class="gt_row gt_left">Health care</td>
<td class="gt_row gt_left">Intern</td>
<td class="gt_row gt_right">29120</td>
<td class="gt_row gt_left">U.S.</td>
<td class="gt_row gt_left">2 - 4 years</td></tr>
    <tr><td class="gt_row gt_left">Nonprofits</td>
<td class="gt_row gt_left">Finance Director</td>
<td class="gt_row gt_right">118000</td>
<td class="gt_row gt_left">United States</td>
<td class="gt_row gt_left">31 - 40 years</td></tr>
    <tr><td class="gt_row gt_left">Health care</td>
<td class="gt_row gt_left">Doctor</td>
<td class="gt_row gt_right">220000</td>
<td class="gt_row gt_left">United States</td>
<td class="gt_row gt_left">2 - 4 years</td></tr>
    <tr><td class="gt_row gt_left">Leisure, Sport &amp; Tourism</td>
<td class="gt_row gt_left">Lifeguard, Swim Instructor</td>
<td class="gt_row gt_right">34320</td>
<td class="gt_row gt_left">United States</td>
<td class="gt_row gt_left">1 year or less</td></tr>
    <tr><td class="gt_row gt_left">Leisure, Sport &amp; Tourism</td>
<td class="gt_row gt_left">Head Lifegaurd</td>
<td class="gt_row gt_right">31200</td>
<td class="gt_row gt_left">United States</td>
<td class="gt_row gt_left">2 - 4 years</td></tr>
    <tr><td class="gt_row gt_left">Law</td>
<td class="gt_row gt_left">Records manager</td>
<td class="gt_row gt_right">106000</td>
<td class="gt_row gt_left">USA</td>
<td class="gt_row gt_left">41 years or more</td></tr>
    <tr><td class="gt_row gt_left">Retail</td>
<td class="gt_row gt_left">Technology Manager</td>
<td class="gt_row gt_right">100200</td>
<td class="gt_row gt_left">USA</td>
<td class="gt_row gt_left">21 - 30 years</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
<p>Some pretty impressive teenagers here. I think my favorite are the ones with more years of experience than years alive.</p>
<p>As for the <code>industry</code> variable, I know from checking out <a href="https://www.askamanager.org/2021/04/how-much-money-do-you-make-4.html">the survey itself</a> that there are 26 options, +1 “Other” option to enter free-text. Do the most frequent 26 <code>industry</code> correspond to those preset options?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>survey <span class="sc">%&gt;%</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(industry, <span class="at">sort =</span> T) <span class="sc">%&gt;%</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">30</span>) <span class="sc">%&gt;%</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">rank =</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">n</span>()) <span class="sc">%&gt;%</span> <span class="fu">relocate</span>(rank) <span class="sc">%&gt;%</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">%&gt;%</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_options</span>(<span class="at">container.height =</span> <span class="dv">300</span>, <span class="at">container.overflow.y =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div id="nkfpgbuqoq" style="overflow-x:auto;overflow-y:auto;width:auto;height:300px;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#nkfpgbuqoq .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#nkfpgbuqoq .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#nkfpgbuqoq .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#nkfpgbuqoq .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#nkfpgbuqoq .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#nkfpgbuqoq .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#nkfpgbuqoq .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#nkfpgbuqoq .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#nkfpgbuqoq .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#nkfpgbuqoq .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#nkfpgbuqoq .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#nkfpgbuqoq .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#nkfpgbuqoq .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#nkfpgbuqoq .gt_from_md > :first-child {
  margin-top: 0;
}

#nkfpgbuqoq .gt_from_md > :last-child {
  margin-bottom: 0;
}

#nkfpgbuqoq .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#nkfpgbuqoq .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#nkfpgbuqoq .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#nkfpgbuqoq .gt_row_group_first td {
  border-top-width: 2px;
}

#nkfpgbuqoq .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#nkfpgbuqoq .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#nkfpgbuqoq .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#nkfpgbuqoq .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#nkfpgbuqoq .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#nkfpgbuqoq .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#nkfpgbuqoq .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#nkfpgbuqoq .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#nkfpgbuqoq .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#nkfpgbuqoq .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#nkfpgbuqoq .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#nkfpgbuqoq .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#nkfpgbuqoq .gt_left {
  text-align: left;
}

#nkfpgbuqoq .gt_center {
  text-align: center;
}

#nkfpgbuqoq .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#nkfpgbuqoq .gt_font_normal {
  font-weight: normal;
}

#nkfpgbuqoq .gt_font_bold {
  font-weight: bold;
}

#nkfpgbuqoq .gt_font_italic {
  font-style: italic;
}

#nkfpgbuqoq .gt_super {
  font-size: 65%;
}

#nkfpgbuqoq .gt_two_val_uncert {
  display: inline-block;
  line-height: 1em;
  text-align: right;
  font-size: 60%;
  vertical-align: -0.25em;
  margin-left: 0.1em;
}

#nkfpgbuqoq .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

#nkfpgbuqoq .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#nkfpgbuqoq .gt_slash_mark {
  font-size: 0.7em;
  line-height: 0.7em;
  vertical-align: 0.15em;
}

#nkfpgbuqoq .gt_fraction_numerator {
  font-size: 0.6em;
  line-height: 0.6em;
  vertical-align: 0.45em;
}

#nkfpgbuqoq .gt_fraction_denominator {
  font-size: 0.6em;
  line-height: 0.6em;
  vertical-align: -0.05em;
}
</style>
<table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">rank</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">industry</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">n</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td class="gt_row gt_right">1</td>
<td class="gt_row gt_left">Computing or Tech</td>
<td class="gt_row gt_right">4360</td></tr>
    <tr><td class="gt_row gt_right">2</td>
<td class="gt_row gt_left">Education (Higher Education)</td>
<td class="gt_row gt_right">2359</td></tr>
    <tr><td class="gt_row gt_right">3</td>
<td class="gt_row gt_left">Nonprofits</td>
<td class="gt_row gt_right">2331</td></tr>
    <tr><td class="gt_row gt_right">4</td>
<td class="gt_row gt_left">Government and Public Administration</td>
<td class="gt_row gt_right">1821</td></tr>
    <tr><td class="gt_row gt_right">5</td>
<td class="gt_row gt_left">Health care</td>
<td class="gt_row gt_right">1739</td></tr>
    <tr><td class="gt_row gt_right">6</td>
<td class="gt_row gt_left">Accounting, Banking &amp; Finance</td>
<td class="gt_row gt_right">1688</td></tr>
    <tr><td class="gt_row gt_right">7</td>
<td class="gt_row gt_left">Engineering or Manufacturing</td>
<td class="gt_row gt_right">1519</td></tr>
    <tr><td class="gt_row gt_right">8</td>
<td class="gt_row gt_left">Marketing, Advertising &amp; PR</td>
<td class="gt_row gt_right">1064</td></tr>
    <tr><td class="gt_row gt_right">9</td>
<td class="gt_row gt_left">Law</td>
<td class="gt_row gt_right">1050</td></tr>
    <tr><td class="gt_row gt_right">10</td>
<td class="gt_row gt_left">Education (Primary/Secondary)</td>
<td class="gt_row gt_right">805</td></tr>
    <tr><td class="gt_row gt_right">11</td>
<td class="gt_row gt_left">Business or Consulting</td>
<td class="gt_row gt_right">778</td></tr>
    <tr><td class="gt_row gt_right">12</td>
<td class="gt_row gt_left">Media &amp; Digital</td>
<td class="gt_row gt_right">732</td></tr>
    <tr><td class="gt_row gt_right">13</td>
<td class="gt_row gt_left">Insurance</td>
<td class="gt_row gt_right">500</td></tr>
    <tr><td class="gt_row gt_right">14</td>
<td class="gt_row gt_left">Retail</td>
<td class="gt_row gt_right">450</td></tr>
    <tr><td class="gt_row gt_right">15</td>
<td class="gt_row gt_left">Recruitment or HR</td>
<td class="gt_row gt_right">429</td></tr>
    <tr><td class="gt_row gt_right">16</td>
<td class="gt_row gt_left">Property or Construction</td>
<td class="gt_row gt_right">350</td></tr>
    <tr><td class="gt_row gt_right">17</td>
<td class="gt_row gt_left">Art &amp; Design</td>
<td class="gt_row gt_right">327</td></tr>
    <tr><td class="gt_row gt_right">18</td>
<td class="gt_row gt_left">Utilities &amp; Telecommunications</td>
<td class="gt_row gt_right">324</td></tr>
    <tr><td class="gt_row gt_right">19</td>
<td class="gt_row gt_left">Transport or Logistics</td>
<td class="gt_row gt_right">270</td></tr>
    <tr><td class="gt_row gt_right">20</td>
<td class="gt_row gt_left">Sales</td>
<td class="gt_row gt_right">262</td></tr>
    <tr><td class="gt_row gt_right">21</td>
<td class="gt_row gt_left">Social Work</td>
<td class="gt_row gt_right">260</td></tr>
    <tr><td class="gt_row gt_right">22</td>
<td class="gt_row gt_left">Entertainment</td>
<td class="gt_row gt_right">234</td></tr>
    <tr><td class="gt_row gt_right">23</td>
<td class="gt_row gt_left">Hospitality &amp; Events</td>
<td class="gt_row gt_right">234</td></tr>
    <tr><td class="gt_row gt_right">24</td>
<td class="gt_row gt_left">Agriculture or Forestry</td>
<td class="gt_row gt_right">130</td></tr>
    <tr><td class="gt_row gt_right">25</td>
<td class="gt_row gt_left">Leisure, Sport &amp; Tourism</td>
<td class="gt_row gt_right">96</td></tr>
    <tr><td class="gt_row gt_right">26</td>
<td class="gt_row gt_left">Publishing</td>
<td class="gt_row gt_right">59</td></tr>
    <tr><td class="gt_row gt_right">27</td>
<td class="gt_row gt_left">NA</td>
<td class="gt_row gt_right">59</td></tr>
    <tr><td class="gt_row gt_right">28</td>
<td class="gt_row gt_left">Library</td>
<td class="gt_row gt_right">54</td></tr>
    <tr><td class="gt_row gt_right">29</td>
<td class="gt_row gt_left">Libraries</td>
<td class="gt_row gt_right">51</td></tr>
    <tr><td class="gt_row gt_right">30</td>
<td class="gt_row gt_left">Biotech</td>
<td class="gt_row gt_right">48</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
<p>Not quite. <code>industry</code> = “Publishing” is the 26th most frequent despite not being a preset option, for example. Make a factor out of this variable, and group anything infrequent (&lt;100 occurrences) into “Other”:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>survey <span class="ot">&lt;-</span> survey <span class="sc">%&gt;%</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">industry_factor =</span> <span class="fu">fct_infreq</span>(industry) <span class="sc">%&gt;%</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>      <span class="fu">fct_lump_min</span>(<span class="at">min =</span> <span class="dv">100</span>)</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>survey <span class="sc">%&gt;%</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">y =</span> industry_factor)) <span class="sc">+</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">fill =</span> td_colors<span class="sc">$</span>nice<span class="sc">$</span>indigo_blue) <span class="sc">+</span></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="tidytuesday-2021-week-21_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>The “Other” category accounts for a lot of responses.</p>
<p>The <code>job_title</code> variable is entirely free-text so will be difficult to use for any analysis/visualization, but here are the most common responses:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>survey <span class="sc">%&gt;%</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(job_title, <span class="at">sort =</span> T) <span class="sc">%&gt;%</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">50</span>) <span class="sc">%&gt;%</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>  rmarkdown<span class="sc">::</span><span class="fu">paged_table</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["job_title"],"name":[1],"type":["chr"],"align":["left"]},{"label":["n"],"name":[2],"type":["int"],"align":["right"]}],"data":[{"1":"Software Engineer","2":"289"},{"1":"Project Manager","2":"242"},{"1":"Director","2":"211"},{"1":"Senior Software Engineer","2":"200"},{"1":"Executive Assistant","2":"171"},{"1":"Librarian","2":"160"},{"1":"Teacher","2":"160"},{"1":"Program Manager","2":"152"},{"1":"Manager","2":"146"},{"1":"Product Manager","2":"122"},{"1":"Administrative Assistant","2":"119"},{"1":"Attorney","2":"107"},{"1":"Associate","2":"103"},{"1":"Data Analyst","2":"97"},{"1":"Marketing Manager","2":"95"},{"1":"Office Manager","2":"93"},{"1":"Analyst","2":"89"},{"1":"Engineering Manager","2":"88"},{"1":"Consultant","2":"87"},{"1":"Paralegal","2":"87"},{"1":"Software Developer","2":"85"},{"1":"Executive Director","2":"83"},{"1":"Assistant Professor","2":"81"},{"1":"Operations Manager","2":"81"},{"1":"Business Analyst","2":"76"},{"1":"Editor","2":"76"},{"1":"HR Manager","2":"75"},{"1":"Associate Director","2":"69"},{"1":"Associate Attorney","2":"66"},{"1":"Senior Manager","2":"64"},{"1":"Software engineer","2":"64"},{"1":"Account Manager","2":"63"},{"1":"Assistant Director","2":"61"},{"1":"Data Scientist","2":"60"},{"1":"Program Coordinator","2":"58"},{"1":"Project Coordinator","2":"55"},{"1":"Vice President","2":"54"},{"1":"Controller","2":"51"},{"1":"HR Generalist","2":"49"},{"1":"Senior Associate","2":"49"},{"1":"Director of Operations","2":"48"},{"1":"Senior Consultant","2":"48"},{"1":"Associate Professor","2":"47"},{"1":"Senior Analyst","2":"45"},{"1":"Senior Project Manager","2":"42"},{"1":"Graphic Designer","2":"41"},{"1":"Partner","2":"41"},{"1":"Senior Engineer","2":"41"},{"1":"Technical Writer","2":"41"},{"1":"Accountant","2":"40"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>How about job titles related to data or statistics or machine learning?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>survey <span class="sc">%&gt;%</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">str_detect</span>(job_title,</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>               <span class="fu">regex</span>(<span class="st">"data|statistic|machine learn"</span>, <span class="at">ignore_case =</span> <span class="cn">TRUE</span>))</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(job_title, <span class="at">sort =</span> T) <span class="sc">%&gt;%</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>  rmarkdown<span class="sc">::</span><span class="fu">paged_table</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["job_title"],"name":[1],"type":["chr"],"align":["left"]},{"label":["n"],"name":[2],"type":["int"],"align":["right"]}],"data":[{"1":"Data Analyst","2":"97"},{"1":"Data Scientist","2":"60"},{"1":"Data analyst","2":"25"},{"1":"Senior Data Scientist","2":"21"},{"1":"Data Engineer","2":"20"},{"1":"Data scientist","2":"16"},{"1":"Senior Data Analyst","2":"14"},{"1":"Data Manager","2":"12"},{"1":"Database Administrator","2":"12"},{"1":"Statistician","2":"9"},{"1":"Biostatistician","2":"6"},{"1":"Director of Data Science","2":"5"},{"1":"Data Architect","2":"4"},{"1":"Database Manager","2":"4"},{"1":"Lead Data Scientist","2":"4"},{"1":"Machine Learning Engineer","2":"4"},{"1":"Senior data analyst","2":"4"},{"1":"Senior Data Manager","2":"4"},{"1":"Sr Data Analyst","2":"4"},{"1":"data analyst","2":"3"},{"1":"Data science manager","2":"3"},{"1":"Data Science Manager","2":"3"},{"1":"data scientist","2":"3"},{"1":"Database Analyst","2":"3"},{"1":"Metadata Librarian","2":"3"},{"1":"Senior Data Engineer","2":"3"},{"1":"Chief Data Scientist","2":"2"},{"1":"Data Analyst II","2":"2"},{"1":"Data analytics manager","2":"2"},{"1":"Data Analytics Manager","2":"2"},{"1":"Data Entry","2":"2"},{"1":"Data Entry Specialist","2":"2"},{"1":"Data Processor","2":"2"},{"1":"Data Scientist II","2":"2"},{"1":"Data Specialist","2":"2"},{"1":"Data Strategist","2":"2"},{"1":"Database Specialist","2":"2"},{"1":"Junior Data Scientist","2":"2"},{"1":"Master Data Analyst","2":"2"},{"1":"Principal Data Scientist","2":"2"},{"1":"Research and Data Analyst","2":"2"},{"1":"senior data analyst","2":"2"},{"1":"Senior data scientist","2":"2"},{"1":"Senior Machine Learning Engineer","2":"2"},{"1":"Senior Statistician","2":"2"},{"1":"Actuarial data /systems programmer","2":"1"},{"1":"Admin / Data Entry","2":"1"},{"1":"Administrative and Data Coordinator","2":"1"},{"1":"Admission Prospect Data Specialist","2":"1"},{"1":"Annual Fund and Database Manager","2":"1"},{"1":"Applied Data Scientist","2":"1"},{"1":"Assistant Director, Data Integrity","2":"1"},{"1":"Assistant Professor/Director of Cataloging & Metadata Services","2":"1"},{"1":"Assistant Statistician","2":"1"},{"1":"Assoc Dir Data Analysis","2":"1"},{"1":"Associate Data Analyst","2":"1"},{"1":"Associate Data Scientist","2":"1"},{"1":"Biostatistician I","2":"1"},{"1":"Business Analyst, Enterprise Data Governance","2":"1"},{"1":"Business Data Analyst","2":"1"},{"1":"Business Operations (Data Analyst)","2":"1"},{"1":"Client Data Analyst","2":"1"},{"1":"Consultant- Data Analytics","2":"1"},{"1":"Consultant, data analyst","2":"1"},{"1":"Crime Data Analyst","2":"1"},{"1":"Customer Data Management","2":"1"},{"1":"Data & Analytics Director","2":"1"},{"1":"Data & Evaluation Specialist","2":"1"},{"1":"Data & Systems Analyst","2":"1"},{"1":"Data / Document Specialist","2":"1"},{"1":"Data Admin","2":"1"},{"1":"Data Analysis Manager","2":"1"},{"1":"data Analyst","2":"1"},{"1":"Data Analyst (EC-05)","2":"1"},{"1":"Data Analyst 2","2":"1"},{"1":"Data Analyst Engineer","2":"1"},{"1":"Data Analyst III","2":"1"},{"1":"Data Analyst Manager","2":"1"},{"1":"Data Analyst Supervisor (Public Health)","2":"1"},{"1":"Data Analyst, Fundraising","2":"1"},{"1":"Data Analytics","2":"1"},{"1":"Data Analytics Consultant","2":"1"},{"1":"Data Analytics Developer","2":"1"},{"1":"Data Analytics Lead","2":"1"},{"1":"Data and Analytics Lead","2":"1"},{"1":"Data and Analytics Product Manager","2":"1"},{"1":"Data and Evaluation Specialist","2":"1"},{"1":"Data and Insights Analyst","2":"1"},{"1":"Data and insights exec","2":"1"},{"1":"Data and layout","2":"1"},{"1":"Data and policy specialist","2":"1"},{"1":"Data and Quality Assurance Manager","2":"1"},{"1":"Data and Reporting Analyst","2":"1"},{"1":"Data architect","2":"1"},{"1":"data associate","2":"1"},{"1":"Data Associate","2":"1"},{"1":"Data Consultant","2":"1"},{"1":"Data Conversion Analyst IV","2":"1"},{"1":"data coordinator","2":"1"},{"1":"Data coordinator","2":"1"},{"1":"Data Coordinator","2":"1"},{"1":"Data curation","2":"1"},{"1":"Data curator","2":"1"},{"1":"Data engineer","2":"1"},{"1":"Data Engineering Manager","2":"1"},{"1":"Data Entry and Records Specialist","2":"1"},{"1":"Data Entry Associate","2":"1"},{"1":"Data entry clerk","2":"1"},{"1":"Data Finance Administrator","2":"1"},{"1":"Data Governance","2":"1"},{"1":"Data Governance Analyst","2":"1"},{"1":"Data Insights Analyst","2":"1"},{"1":"Data Integrity","2":"1"},{"1":"Data Integrity Specialist","2":"1"},{"1":"Data Lead","2":"1"},{"1":"Data librarian","2":"1"},{"1":"Data Management Officer","2":"1"},{"1":"Data Management Team Lead","2":"1"},{"1":"Data manager","2":"1"},{"1":"Data mechanic","2":"1"},{"1":"Data Migration Consultant","2":"1"},{"1":"Data Officer","2":"1"},{"1":"Data Practice Lead","2":"1"},{"1":"Data Privacy & Compliance Professional","2":"1"},{"1":"Data processing","2":"1"},{"1":"Data Product Consultant","2":"1"},{"1":"data product manager","2":"1"},{"1":"Data Programmer Analyst","2":"1"},{"1":"Data Protection Manager","2":"1"},{"1":"Data protection officer","2":"1"},{"1":"Data Quality Analyst","2":"1"},{"1":"Data Quality Lead","2":"1"},{"1":"Data quality manager","2":"1"},{"1":"Data Quality Manager","2":"1"},{"1":"data science","2":"1"},{"1":"Data Science Lecturer","2":"1"},{"1":"Data scientist /epidemiologist","2":"1"},{"1":"Data Scientist 2","2":"1"},{"1":"Data Scientist III","2":"1"},{"1":"Data services associate","2":"1"},{"1":"Data Statistician","2":"1"},{"1":"Data Strategy & Analytics Consultant","2":"1"},{"1":"Data Support","2":"1"},{"1":"Data Systems Manager","2":"1"},{"1":"data team lead","2":"1"},{"1":"Data visualization consultant","2":"1"},{"1":"Data Visualization Consultant","2":"1"},{"1":"Data visualization developer","2":"1"},{"1":"Data warehouse operations analyst","2":"1"},{"1":"Database administrator","2":"1"},{"1":"Database Administrator SQL","2":"1"},{"1":"Database Architect","2":"1"},{"1":"Database Assistant","2":"1"},{"1":"Database Associate","2":"1"},{"1":"database developer","2":"1"},{"1":"Database Developer","2":"1"},{"1":"Development and Data Specialist","2":"1"},{"1":"Development Database Associate","2":"1"},{"1":"Development Database Manager","2":"1"},{"1":"Director - Data Operations","2":"1"},{"1":"Director - Data Science","2":"1"},{"1":"Director of Data & Analytics","2":"1"},{"1":"Director of Data & Information Systems","2":"1"},{"1":"Director of Data Analytics","2":"1"},{"1":"Director of Data and Reporting","2":"1"},{"1":"Director of Data Engineering","2":"1"},{"1":"Director of Library and Database Services","2":"1"},{"1":"Director of Research and Data Analytics","2":"1"},{"1":"Director, Advanced Analytics and Statistics","2":"1"},{"1":"Director, Biostatistics","2":"1"},{"1":"Director, Data Analytics","2":"1"},{"1":"Director, Data Management","2":"1"},{"1":"Director, Data Management (non-academic)","2":"1"},{"1":"Director, Master Data","2":"1"},{"1":"District Data Manager","2":"1"},{"1":"Federal consultant (data analytics)","2":"1"},{"1":"Financial Data Specialist","2":"1"},{"1":"Further Education Funding and Data Consultant","2":"1"},{"1":"Geospatial Data Technician II","2":"1"},{"1":"Gifts and Data Coordinator","2":"1"},{"1":"GIS Data Specialist","2":"1"},{"1":"Global Data Team Leader","2":"1"},{"1":"Government Statistician","2":"1"},{"1":"HCIS Database Analyst","2":"1"},{"1":"Head data scientist","2":"1"},{"1":"Head metadata librarian","2":"1"},{"1":"Head of Data & Analytics","2":"1"},{"1":"Head of Data Science","2":"1"},{"1":"Head of Data Science & Analytics","2":"1"},{"1":"Head of Public Sector Data Sharing","2":"1"},{"1":"Healthcare Data Analyst","2":"1"},{"1":"HR Data Analyst","2":"1"},{"1":"Interim Director of Cataloging and Metadata Services","2":"1"},{"1":"IT Project Manager and Data Analyst","2":"1"},{"1":"Lead Data Engineer","2":"1"},{"1":"Lead Data Strategist","2":"1"},{"1":"Library metadata coordinator","2":"1"},{"1":"Library metadata specialist","2":"1"},{"1":"Machine learning model developer","2":"1"},{"1":"Management Analyst IV (Data Analyst)","2":"1"},{"1":"Manager of Data Engineering","2":"1"},{"1":"Manager of Data Integrity and Prospect Research","2":"1"},{"1":"Manager of Data Science","2":"1"},{"1":"Manager of Market Research and Data","2":"1"},{"1":"Manager, Gift Processing and Data Management","2":"1"},{"1":"Managing Director Data Science and Analytics","2":"1"},{"1":"Mathematical Statistician","2":"1"},{"1":"Media and Data Analyst","2":"1"},{"1":"Member Data Specialist","2":"1"},{"1":"Membership & Data Analytics Manager","2":"1"},{"1":"Metadata Management Librarian","2":"1"},{"1":"Metadata Specialist","2":"1"},{"1":"Metadata Specialist II","2":"1"},{"1":"Office specialist-database management","2":"1"},{"1":"Officer, Analyst II- System/Data Security","2":"1"},{"1":"Operations Data Analyst","2":"1"},{"1":"Payroll and Data Specialist","2":"1"},{"1":"Principal Data Science Manager","2":"1"},{"1":"principal data scientist","2":"1"},{"1":"Principal Project Data Manager","2":"1"},{"1":"Principal Statistical Programmer","2":"1"},{"1":"Product Data Analyst","2":"1"},{"1":"Product Owner: Data, Reporting, & Analytics","2":"1"},{"1":"Project Analyst or Data Manager","2":"1"},{"1":"Provider Data Analyst","2":"1"},{"1":"Provider Data Specialist III","2":"1"},{"1":"Quality data analyst","2":"1"},{"1":"Quality Improvement Data Analyst","2":"1"},{"1":"Records and Data Control Specialist","2":"1"},{"1":"Recruiter & Data Analyst","2":"1"},{"1":"Reporting & Data Analyst","2":"1"},{"1":"Research Data Analyst","2":"1"},{"1":"Research Data Coordinator","2":"1"},{"1":"Research Data Scientist","2":"1"},{"1":"Research Data Specialist","2":"1"},{"1":"Research Specialist/Data Analyst","2":"1"},{"1":"Senior Advisor, Data Science","2":"1"},{"1":"Senior Associate Data Scientist","2":"1"},{"1":"Senior biostatistician","2":"1"},{"1":"Senior Biostatistician","2":"1"},{"1":"Senior Clinical Data Analyst","2":"1"},{"1":"Senior Data & Policy Specialist","2":"1"},{"1":"Senior Data Analytics Developer","2":"1"},{"1":"Senior Data architect","2":"1"},{"1":"Senior Data Architect","2":"1"},{"1":"Senior data engineer","2":"1"},{"1":"Senior Data Planner","2":"1"},{"1":"Senior Data Quality Specialist","2":"1"},{"1":"senior data scientist","2":"1"},{"1":"Senior Data scientist","2":"1"},{"1":"Senior Data Specialist","2":"1"},{"1":"Senior Database Administrator","2":"1"},{"1":"Senior Database Analyst","2":"1"},{"1":"Senior Database Engineer","2":"1"},{"1":"Senior director data management","2":"1"},{"1":"Senior Director, Data Engineering","2":"1"},{"1":"Senior Editor, Data Visualization","2":"1"},{"1":"Senior GIS Data Analyst","2":"1"},{"1":"Senior Health Data Analyst","2":"1"},{"1":"Senior Manager, Statistics","2":"1"},{"1":"senior marketing data specialist","2":"1"},{"1":"Senior Research Data Analyst","2":"1"},{"1":"Senior statistical analytical programmwr","2":"1"},{"1":"Senior Technical Data Analyst","2":"1"},{"1":"Snr Data Engineer","2":"1"},{"1":"Software and Database Engineer","2":"1"},{"1":"Spatial Data Analyst","2":"1"},{"1":"Sr data consultant","2":"1"},{"1":"Sr Database Administrator","2":"1"},{"1":"Sr Fraud Data Analyst","2":"1"},{"1":"Sr Manager, Data","2":"1"},{"1":"Sr. Data Analyst","2":"1"},{"1":"Sr. Data Scientist","2":"1"},{"1":"Sr. Database Analyst","2":"1"},{"1":"Staff Data Scientist","2":"1"},{"1":"Statistical Analyst","2":"1"},{"1":"Statistical Analyst II","2":"1"},{"1":"Statistical Associate","2":"1"},{"1":"Statistical Officer","2":"1"},{"1":"Statistical Program Manager","2":"1"},{"1":"Statistical Programmer","2":"1"},{"1":"Statistical Programmer II","2":"1"},{"1":"Statistical Programmer/Data Analyst","2":"1"},{"1":"Statistician II","2":"1"},{"1":"Statistics Supervisor","2":"1"},{"1":"Strategic Data Manager","2":"1"},{"1":"Student data specialist","2":"1"},{"1":"Surveillance Data Manager","2":"1"},{"1":"Survey Statistician","2":"1"},{"1":"Technical consultant (data science/AI)","2":"1"},{"1":"Technical Data Analyst","2":"1"},{"1":"Technical Data Msnager","2":"1"},{"1":"Technical Lead, Data Discovery","2":"1"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>I might check this out later – quite a few responses.</p>
<p>In terms of location, we have <code>country</code>, <code>state</code>, and <code>city</code>, but I’ll just be looking at just the country level for now:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>survey <span class="sc">%&gt;%</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(country, <span class="at">sort =</span> T) <span class="sc">%&gt;%</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  rmarkdown<span class="sc">::</span><span class="fu">paged_table</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["country"],"name":[1],"type":["chr"],"align":["left"]},{"label":["n"],"name":[2],"type":["int"],"align":["right"]}],"data":[{"1":"United States","2":"9010"},{"1":"USA","2":"7918"},{"1":"US","2":"2485"},{"1":"Canada","2":"1543"},{"1":"United Kingdom","2":"584"},{"1":"UK","2":"579"},{"1":"U.S.","2":"569"},{"1":"United States of America","2":"425"},{"1":"Usa","2":"420"},{"1":"Australia","2":"368"},{"1":"United states","2":"201"},{"1":"Germany","2":"179"},{"1":"usa","2":"170"},{"1":"England","2":"157"},{"1":"Ireland","2":"117"},{"1":"united states","2":"104"},{"1":"Us","2":"102"},{"1":"New Zealand","2":"100"},{"1":"Uk","2":"87"},{"1":"France","2":"56"},{"1":"Netherlands","2":"47"},{"1":"Scotland","2":"44"},{"1":"Spain","2":"42"},{"1":"U.S.A.","2":"41"},{"1":"Sweden","2":"38"},{"1":"Switzerland","2":"35"},{"1":"Belgium","2":"32"},{"1":"us","2":"32"},{"1":"Japan","2":"27"},{"1":"The Netherlands","2":"24"},{"1":"canada","2":"23"},{"1":"America","2":"20"},{"1":"U.S","2":"19"},{"1":"Denmark","2":"18"},{"1":"United State","2":"17"},{"1":"Finland","2":"15"},{"1":"South Africa","2":"15"},{"1":"Israel","2":"14"},{"1":"Unites States","2":"14"},{"1":"Austria","2":"13"},{"1":"India","2":"13"},{"1":"Italy","2":"13"},{"1":"Malaysia","2":"13"},{"1":"Norway","2":"13"},{"1":"United kingdom","2":"12"},{"1":"Brazil","2":"11"},{"1":"Singapore","2":"11"},{"1":"U.K.","2":"11"},{"1":"United Stated","2":"9"},{"1":"Philippines","2":"8"},{"1":"U.S.A","2":"8"},{"1":"China","2":"7"},{"1":"Mexico","2":"7"},{"1":"U. S.","2":"7"},{"1":"UNITED STATES","2":"7"},{"1":"United States of america","2":"7"},{"1":"Poland","2":"6"},{"1":"The United States","2":"6"},{"1":"CANADA","2":"5"},{"1":"Great Britain","2":"5"},{"1":"Greece","2":"5"},{"1":"NZ","2":"5"},{"1":"Portugal","2":"5"},{"1":"South Korea","2":"5"},{"1":"United Sates","2":"5"},{"1":"Argentina","2":"4"},{"1":"England, UK","2":"4"},{"1":"Hong Kong","2":"4"},{"1":"New zealand","2":"4"},{"1":"Puerto Rico","2":"4"},{"1":"uk","2":"4"},{"1":"united kingdom","2":"4"},{"1":"united States","2":"4"},{"1":"United states of America","2":"4"},{"1":"United States Of America","2":"4"},{"1":"UnitedStates","2":"4"},{"1":"Wales","2":"4"},{"1":"australia","2":"3"},{"1":"Czech Republic","2":"3"},{"1":"denmark","2":"3"},{"1":"England, United Kingdom","2":"3"},{"1":"ireland","2":"3"},{"1":"Latvia","2":"3"},{"1":"netherlands","2":"3"},{"1":"Northern Ireland","2":"3"},{"1":"Romania","2":"3"},{"1":"Taiwan","2":"3"},{"1":"U.s.","2":"3"},{"1":"United Stares","2":"3"},{"1":"United Statea","2":"3"},{"1":"🇺🇸","2":"3"},{"1":"Bangladesh","2":"2"},{"1":"Bermuda","2":"2"},{"1":"Bulgaria","2":"2"},{"1":"Canda","2":"2"},{"1":"england","2":"2"},{"1":"Estonia","2":"2"},{"1":"germany","2":"2"},{"1":"Ghana","2":"2"},{"1":"Hungary","2":"2"},{"1":"I.S.","2":"2"},{"1":"Indonesia","2":"2"},{"1":"ISA","2":"2"},{"1":"Kenya","2":"2"},{"1":"Lithuania","2":"2"},{"1":"Luxembourg","2":"2"},{"1":"Pakistan","2":"2"},{"1":"Remote","2":"2"},{"1":"Scotland, UK","2":"2"},{"1":"South africa","2":"2"},{"1":"spain","2":"2"},{"1":"Thailand","2":"2"},{"1":"The US","2":"2"},{"1":"u.s.","2":"2"},{"1":"UK (England)","2":"2"},{"1":"Unite States","2":"2"},{"1":"United Kingdom (England)","2":"2"},{"1":"United Sates of America","2":"2"},{"1":"United State of America","2":"2"},{"1":"Unites states","2":"2"},{"1":"USA tomorrow","2":"2"},{"1":"Vietnam","2":"2"},{"1":"$2,175.84/year is deducted for benefits","2":"1"},{"1":"Afghanistan","2":"1"},{"1":"Africa","2":"1"},{"1":"america","2":"1"},{"1":"ARGENTINA BUT MY ORG IS IN THAILAND","2":"1"},{"1":"Australi","2":"1"},{"1":"Australian","2":"1"},{"1":"Austria, but I work remotely for a Dutch/British company","2":"1"},{"1":"bonus based on meeting yearly goals set w/ my supervisor","2":"1"},{"1":"Brasil","2":"1"},{"1":"Britain","2":"1"},{"1":"California","2":"1"},{"1":"Cambodia","2":"1"},{"1":"Can","2":"1"},{"1":"Canad","2":"1"},{"1":"Canada and USA","2":"1"},{"1":"Canada, Ottawa, ontario","2":"1"},{"1":"Canadw","2":"1"},{"1":"Catalonia","2":"1"},{"1":"Cayman Islands","2":"1"},{"1":"Chile","2":"1"},{"1":"Colombia","2":"1"},{"1":"Congo","2":"1"},{"1":"Contracts","2":"1"},{"1":"Costa Rica","2":"1"},{"1":"Cote d'Ivoire","2":"1"},{"1":"Croatia","2":"1"},{"1":"Csnada","2":"1"},{"1":"Cuba","2":"1"},{"1":"Currently finance","2":"1"},{"1":"czech republic","2":"1"},{"1":"Czech republic","2":"1"},{"1":"Czechia","2":"1"},{"1":"Danmark","2":"1"},{"1":"Ecuador","2":"1"},{"1":"England, Gb","2":"1"},{"1":"England, UK.","2":"1"},{"1":"England/UK","2":"1"},{"1":"Englang","2":"1"},{"1":"Eritrea","2":"1"},{"1":"europe","2":"1"},{"1":"finland","2":"1"},{"1":"For the United States government, but posted overseas","2":"1"},{"1":"france","2":"1"},{"1":"FRANCE","2":"1"},{"1":"From New Zealand but on projects across APAC","2":"1"},{"1":"From Romania, but for an US based company","2":"1"},{"1":"Global","2":"1"},{"1":"Hartford","2":"1"},{"1":"I am located in Canada but I work for a company in the US","2":"1"},{"1":"I earn commission on sales. If I meet quota, I'm guaranteed another 16k min. Last year i earned an additional 27k. It's not uncommon for people in my space to earn 100k+ after commission.","2":"1"},{"1":"I was brought in on this salary to help with the EHR and very quickly was promoted to current position but compensation was not altered.","2":"1"},{"1":"I work for a UAE-based organization, though I am personally in the US.","2":"1"},{"1":"I work for an US based company but I'm from Argentina.","2":"1"},{"1":"International","2":"1"},{"1":"IS","2":"1"},{"1":"Isle of Man","2":"1"},{"1":"Italy (South)","2":"1"},{"1":"Jamaica","2":"1"},{"1":"japan","2":"1"},{"1":"Japan, US Gov position","2":"1"},{"1":"Jersey, Channel islands","2":"1"},{"1":"Jordan","2":"1"},{"1":"Kuwait","2":"1"},{"1":"Luxemburg","2":"1"},{"1":"Mainland China","2":"1"},{"1":"Malta","2":"1"},{"1":"México","2":"1"},{"1":"Morocco","2":"1"},{"1":"n/a (remote from wherever I want)","2":"1"},{"1":"Nederland","2":"1"},{"1":"new zealand","2":"1"},{"1":"New Zealand Aotearoa","2":"1"},{"1":"Nigeria","2":"1"},{"1":"NL","2":"1"},{"1":"Northern Ireland, United Kingdom","2":"1"},{"1":"Panamá","2":"1"},{"1":"Qatar","2":"1"},{"1":"Remote (philippines)","2":"1"},{"1":"Russia","2":"1"},{"1":"Rwanda","2":"1"},{"1":"San Francisco","2":"1"},{"1":"Saudi Arabia","2":"1"},{"1":"Serbia","2":"1"},{"1":"Sierra Leone","2":"1"},{"1":"singapore","2":"1"},{"1":"Slovakia","2":"1"},{"1":"Slovenia","2":"1"},{"1":"Somalia","2":"1"},{"1":"Sri lanka","2":"1"},{"1":"Sri Lanka","2":"1"},{"1":"switzerland","2":"1"},{"1":"SWITZERLAND","2":"1"},{"1":"The Bahamas","2":"1"},{"1":"the netherlands","2":"1"},{"1":"the Netherlands","2":"1"},{"1":"The netherlands","2":"1"},{"1":"Trinidad and Tobago","2":"1"},{"1":"Turkey","2":"1"},{"1":"U. S","2":"1"},{"1":"U.A.","2":"1"},{"1":"U.K","2":"1"},{"1":"U.K. (northern England)","2":"1"},{"1":"U.s.a.","2":"1"},{"1":"U.S>","2":"1"},{"1":"U.SA","2":"1"},{"1":"UA","2":"1"},{"1":"UAE","2":"1"},{"1":"Uganda","2":"1"},{"1":"UK (Northern Ireland)","2":"1"},{"1":"UK for U.S. company","2":"1"},{"1":"UK, but for globally fully remote company","2":"1"},{"1":"UK, remote","2":"1"},{"1":"Ukraine","2":"1"},{"1":"Uniited States","2":"1"},{"1":"United  States","2":"1"},{"1":"United Arab Emirates","2":"1"},{"1":"United Kindom","2":"1"},{"1":"United Kingdom.","2":"1"},{"1":"United Kingdomk","2":"1"},{"1":"united stated","2":"1"},{"1":"United Stateds","2":"1"},{"1":"United Statees","2":"1"},{"1":"United STates","2":"1"},{"1":"UNited States","2":"1"},{"1":"United States- Puerto Rico","2":"1"},{"1":"United States (I work from home and my clients are all over the US/Canada/PR","2":"1"},{"1":"united states of america","2":"1"},{"1":"United states of america","2":"1"},{"1":"United States of American","2":"1"},{"1":"United States of Americas","2":"1"},{"1":"United Statesp","2":"1"},{"1":"United statew","2":"1"},{"1":"United Statss","2":"1"},{"1":"United Stattes","2":"1"},{"1":"United Statues","2":"1"},{"1":"United Status","2":"1"},{"1":"United Statws","2":"1"},{"1":"United Sttes","2":"1"},{"1":"United y","2":"1"},{"1":"Uniteed States","2":"1"},{"1":"Unitef Stated","2":"1"},{"1":"Uniter Statez","2":"1"},{"1":"Unites kingdom","2":"1"},{"1":"Unitied States","2":"1"},{"1":"Uniyed states","2":"1"},{"1":"Uniyes States","2":"1"},{"1":"Unted States","2":"1"},{"1":"Untied States","2":"1"},{"1":"Uruguay","2":"1"},{"1":"uS","2":"1"},{"1":"US govt employee overseas, country withheld","2":"1"},{"1":"US of A","2":"1"},{"1":"uSA","2":"1"},{"1":"UsA","2":"1"},{"1":"USA-- Virgin Islands","2":"1"},{"1":"USA (company is based in a US territory, I work remote)","2":"1"},{"1":"USA, but for foreign gov't","2":"1"},{"1":"USaa","2":"1"},{"1":"USAB","2":"1"},{"1":"Usat","2":"1"},{"1":"USD","2":"1"},{"1":"USS","2":"1"},{"1":"UXZ","2":"1"},{"1":"Virginia","2":"1"},{"1":"Wales (UK)","2":"1"},{"1":"Wales (United Kingdom)","2":"1"},{"1":"Wales, UK","2":"1"},{"1":"We don't get raises, we get quarterly bonuses, but they periodically asses income in the area you work, so I got a raise because a 3rd party assessment showed I was paid too little for the area we were located","2":"1"},{"1":"Worldwide (based in US but short term trips aroudn the world)","2":"1"},{"1":"Y","2":"1"},{"1":"Zimbabwe","2":"1"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>This is in need of some data cleaning obviously– a lot of variations on “United States”, for example. I’ll also consolidate England, Scotland, Northern Ireland and Wales into the UK.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>survey <span class="ot">&lt;-</span> survey <span class="sc">%&gt;%</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">country_clean =</span> <span class="fu">str_remove_all</span>(<span class="fu">tolower</span>(country), <span class="st">"</span><span class="sc">\\</span><span class="st">."</span>),</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">country_clean =</span> <span class="fu">case_when</span>(</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>      <span class="fu">str_detect</span>(country_clean,</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>                 <span class="st">"states|^us|america|d state|^u s|sates"</span>) <span class="sc">~</span> <span class="st">"USA"</span>,</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>      <span class="fu">str_detect</span>(country_clean,</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>                 <span class="st">"kingdom|^uk|england|scotland|wales|northern i|britain"</span>) <span class="sc">~</span> <span class="st">"UK"</span>,</span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>      <span class="fu">str_detect</span>(country_clean,</span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>                 <span class="st">"canada|canda|canadw|csnada"</span>) <span class="sc">~</span> <span class="st">"Canada"</span>,</span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>      <span class="fu">str_detect</span>(country_clean, <span class="st">"austral"</span>) <span class="sc">~</span> <span class="st">"Australia"</span>,</span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>      <span class="fu">str_detect</span>(country_clean, <span class="st">"brazil|brasil"</span>) <span class="sc">~</span> <span class="st">"Brazil"</span>,</span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>      <span class="fu">str_detect</span>(country_clean, <span class="st">"zealand|nz"</span>) <span class="sc">~</span> <span class="st">"New Zealand"</span>,</span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>      <span class="co"># If less than three letters, put in all caps</span></span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>      <span class="fu">nchar</span>(country_clean) <span class="sc">&lt;=</span> <span class="dv">3</span> <span class="sc">~</span> <span class="fu">toupper</span>(country_clean),</span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Otherwise, title case</span></span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="fu">str_to_title</span>(country_clean)</span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a>survey <span class="sc">%&gt;%</span></span>
<span id="cb14-21"><a href="#cb14-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(country, country_clean, <span class="at">sort =</span> T) <span class="sc">%&gt;%</span></span>
<span id="cb14-22"><a href="#cb14-22" aria-hidden="true" tabindex="-1"></a>  rmarkdown<span class="sc">::</span><span class="fu">paged_table</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["country"],"name":[1],"type":["chr"],"align":["left"]},{"label":["country_clean"],"name":[2],"type":["chr"],"align":["left"]},{"label":["n"],"name":[3],"type":["int"],"align":["right"]}],"data":[{"1":"United States","2":"USA","3":"9010"},{"1":"USA","2":"USA","3":"7918"},{"1":"US","2":"USA","3":"2485"},{"1":"Canada","2":"Canada","3":"1543"},{"1":"United Kingdom","2":"UK","3":"584"},{"1":"UK","2":"UK","3":"579"},{"1":"U.S.","2":"USA","3":"569"},{"1":"United States of America","2":"USA","3":"425"},{"1":"Usa","2":"USA","3":"420"},{"1":"Australia","2":"Australia","3":"368"},{"1":"United states","2":"USA","3":"201"},{"1":"Germany","2":"Germany","3":"179"},{"1":"usa","2":"USA","3":"170"},{"1":"England","2":"UK","3":"157"},{"1":"Ireland","2":"Ireland","3":"117"},{"1":"united states","2":"USA","3":"104"},{"1":"Us","2":"USA","3":"102"},{"1":"New Zealand","2":"New Zealand","3":"100"},{"1":"Uk","2":"UK","3":"87"},{"1":"France","2":"France","3":"56"},{"1":"Netherlands","2":"Netherlands","3":"47"},{"1":"Scotland","2":"UK","3":"44"},{"1":"Spain","2":"Spain","3":"42"},{"1":"U.S.A.","2":"USA","3":"41"},{"1":"Sweden","2":"Sweden","3":"38"},{"1":"Switzerland","2":"Switzerland","3":"35"},{"1":"Belgium","2":"Belgium","3":"32"},{"1":"us","2":"USA","3":"32"},{"1":"Japan","2":"Japan","3":"27"},{"1":"The Netherlands","2":"The Netherlands","3":"24"},{"1":"canada","2":"Canada","3":"23"},{"1":"America","2":"USA","3":"20"},{"1":"U.S","2":"USA","3":"19"},{"1":"Denmark","2":"Denmark","3":"18"},{"1":"United State","2":"USA","3":"17"},{"1":"Finland","2":"Finland","3":"15"},{"1":"South Africa","2":"South Africa","3":"15"},{"1":"Israel","2":"Israel","3":"14"},{"1":"Unites States","2":"USA","3":"14"},{"1":"Austria","2":"Austria","3":"13"},{"1":"India","2":"India","3":"13"},{"1":"Italy","2":"Italy","3":"13"},{"1":"Malaysia","2":"Malaysia","3":"13"},{"1":"Norway","2":"Norway","3":"13"},{"1":"United kingdom","2":"UK","3":"12"},{"1":"Brazil","2":"Brazil","3":"11"},{"1":"Singapore","2":"Singapore","3":"11"},{"1":"U.K.","2":"UK","3":"11"},{"1":"United Stated","2":"USA","3":"9"},{"1":"Philippines","2":"Philippines","3":"8"},{"1":"U.S.A","2":"USA","3":"8"},{"1":"China","2":"China","3":"7"},{"1":"Mexico","2":"Mexico","3":"7"},{"1":"U. S.","2":"USA","3":"7"},{"1":"UNITED STATES","2":"USA","3":"7"},{"1":"United States of america","2":"USA","3":"7"},{"1":"Poland","2":"Poland","3":"6"},{"1":"The United States","2":"USA","3":"6"},{"1":"CANADA","2":"Canada","3":"5"},{"1":"Great Britain","2":"UK","3":"5"},{"1":"Greece","2":"Greece","3":"5"},{"1":"NZ","2":"New Zealand","3":"5"},{"1":"Portugal","2":"Portugal","3":"5"},{"1":"South Korea","2":"South Korea","3":"5"},{"1":"United Sates","2":"USA","3":"5"},{"1":"Argentina","2":"Argentina","3":"4"},{"1":"England, UK","2":"UK","3":"4"},{"1":"Hong Kong","2":"Hong Kong","3":"4"},{"1":"New zealand","2":"New Zealand","3":"4"},{"1":"Puerto Rico","2":"Puerto Rico","3":"4"},{"1":"uk","2":"UK","3":"4"},{"1":"united kingdom","2":"UK","3":"4"},{"1":"united States","2":"USA","3":"4"},{"1":"United states of America","2":"USA","3":"4"},{"1":"United States Of America","2":"USA","3":"4"},{"1":"UnitedStates","2":"USA","3":"4"},{"1":"Wales","2":"UK","3":"4"},{"1":"australia","2":"Australia","3":"3"},{"1":"Czech Republic","2":"Czech Republic","3":"3"},{"1":"denmark","2":"Denmark","3":"3"},{"1":"England, United Kingdom","2":"UK","3":"3"},{"1":"ireland","2":"Ireland","3":"3"},{"1":"Latvia","2":"Latvia","3":"3"},{"1":"netherlands","2":"Netherlands","3":"3"},{"1":"Northern Ireland","2":"UK","3":"3"},{"1":"Romania","2":"Romania","3":"3"},{"1":"Taiwan","2":"Taiwan","3":"3"},{"1":"U.s.","2":"USA","3":"3"},{"1":"United Stares","2":"United Stares","3":"3"},{"1":"United Statea","2":"USA","3":"3"},{"1":"🇺🇸","2":"🇺🇺","3":"3"},{"1":"Bangladesh","2":"Bangladesh","3":"2"},{"1":"Bermuda","2":"Bermuda","3":"2"},{"1":"Bulgaria","2":"Bulgaria","3":"2"},{"1":"Canda","2":"Canada","3":"2"},{"1":"england","2":"UK","3":"2"},{"1":"Estonia","2":"Estonia","3":"2"},{"1":"germany","2":"Germany","3":"2"},{"1":"Ghana","2":"Ghana","3":"2"},{"1":"Hungary","2":"Hungary","3":"2"},{"1":"I.S.","2":"IS","3":"2"},{"1":"Indonesia","2":"Indonesia","3":"2"},{"1":"ISA","2":"ISA","3":"2"},{"1":"Kenya","2":"Kenya","3":"2"},{"1":"Lithuania","2":"Lithuania","3":"2"},{"1":"Luxembourg","2":"Luxembourg","3":"2"},{"1":"Pakistan","2":"Pakistan","3":"2"},{"1":"Remote","2":"Remote","3":"2"},{"1":"Scotland, UK","2":"UK","3":"2"},{"1":"South africa","2":"South Africa","3":"2"},{"1":"spain","2":"Spain","3":"2"},{"1":"Thailand","2":"Thailand","3":"2"},{"1":"The US","2":"The Us","3":"2"},{"1":"u.s.","2":"USA","3":"2"},{"1":"UK (England)","2":"UK","3":"2"},{"1":"Unite States","2":"USA","3":"2"},{"1":"United Kingdom (England)","2":"UK","3":"2"},{"1":"United Sates of America","2":"USA","3":"2"},{"1":"United State of America","2":"USA","3":"2"},{"1":"Unites states","2":"USA","3":"2"},{"1":"USA tomorrow","2":"USA","3":"2"},{"1":"Vietnam","2":"Vietnam","3":"2"},{"1":"$2,175.84/year is deducted for benefits","2":"$2,17584/Year Is Deducted For Benefits","3":"1"},{"1":"Afghanistan","2":"Afghanistan","3":"1"},{"1":"Africa","2":"Africa","3":"1"},{"1":"america","2":"USA","3":"1"},{"1":"ARGENTINA BUT MY ORG IS IN THAILAND","2":"Argentina But My Org Is In Thailand","3":"1"},{"1":"Australi","2":"Australia","3":"1"},{"1":"Australian","2":"Australia","3":"1"},{"1":"Austria, but I work remotely for a Dutch/British company","2":"Austria, But I Work Remotely For A Dutch/British Company","3":"1"},{"1":"bonus based on meeting yearly goals set w/ my supervisor","2":"Bonus Based On Meeting Yearly Goals Set W/ My Supervisor","3":"1"},{"1":"Brasil","2":"Brazil","3":"1"},{"1":"Britain","2":"UK","3":"1"},{"1":"California","2":"California","3":"1"},{"1":"Cambodia","2":"Cambodia","3":"1"},{"1":"Can","2":"CAN","3":"1"},{"1":"Canad","2":"Canad","3":"1"},{"1":"Canada and USA","2":"Canada","3":"1"},{"1":"Canada, Ottawa, ontario","2":"Canada","3":"1"},{"1":"Canadw","2":"Canada","3":"1"},{"1":"Catalonia","2":"Catalonia","3":"1"},{"1":"Cayman Islands","2":"Cayman Islands","3":"1"},{"1":"Chile","2":"Chile","3":"1"},{"1":"Colombia","2":"Colombia","3":"1"},{"1":"Congo","2":"Congo","3":"1"},{"1":"Contracts","2":"Contracts","3":"1"},{"1":"Costa Rica","2":"Costa Rica","3":"1"},{"1":"Cote d'Ivoire","2":"Cote D'ivoire","3":"1"},{"1":"Croatia","2":"Croatia","3":"1"},{"1":"Csnada","2":"Canada","3":"1"},{"1":"Cuba","2":"Cuba","3":"1"},{"1":"Currently finance","2":"Currently Finance","3":"1"},{"1":"czech republic","2":"Czech Republic","3":"1"},{"1":"Czech republic","2":"Czech Republic","3":"1"},{"1":"Czechia","2":"Czechia","3":"1"},{"1":"Danmark","2":"Danmark","3":"1"},{"1":"Ecuador","2":"Ecuador","3":"1"},{"1":"England, Gb","2":"UK","3":"1"},{"1":"England, UK.","2":"UK","3":"1"},{"1":"England/UK","2":"UK","3":"1"},{"1":"Englang","2":"Englang","3":"1"},{"1":"Eritrea","2":"Eritrea","3":"1"},{"1":"europe","2":"Europe","3":"1"},{"1":"finland","2":"Finland","3":"1"},{"1":"For the United States government, but posted overseas","2":"USA","3":"1"},{"1":"france","2":"France","3":"1"},{"1":"FRANCE","2":"France","3":"1"},{"1":"From New Zealand but on projects across APAC","2":"New Zealand","3":"1"},{"1":"From Romania, but for an US based company","2":"From Romania, But For An Us Based Company","3":"1"},{"1":"Global","2":"Global","3":"1"},{"1":"Hartford","2":"Hartford","3":"1"},{"1":"I am located in Canada but I work for a company in the US","2":"Canada","3":"1"},{"1":"I earn commission on sales. If I meet quota, I'm guaranteed another 16k min. Last year i earned an additional 27k. It's not uncommon for people in my space to earn 100k+ after commission.","2":"I Earn Commission On Sales If I Meet Quota, I'm Guaranteed Another 16k Min Last Year I Earned An Additional 27k It's Not Uncommon For People In My Space To Earn 100k+ After Commission","3":"1"},{"1":"I was brought in on this salary to help with the EHR and very quickly was promoted to current position but compensation was not altered.","2":"I Was Brought In On This Salary To Help With The Ehr And Very Quickly Was Promoted To Current Position But Compensation Was Not Altered","3":"1"},{"1":"I work for a UAE-based organization, though I am personally in the US.","2":"I Work For A Uae-Based Organization, Though I Am Personally In The Us","3":"1"},{"1":"I work for an US based company but I'm from Argentina.","2":"I Work For An Us Based Company But I'm From Argentina","3":"1"},{"1":"International","2":"International","3":"1"},{"1":"IS","2":"IS","3":"1"},{"1":"Isle of Man","2":"Isle Of Man","3":"1"},{"1":"Italy (South)","2":"Italy (South)","3":"1"},{"1":"Jamaica","2":"Jamaica","3":"1"},{"1":"japan","2":"Japan","3":"1"},{"1":"Japan, US Gov position","2":"Japan, Us Gov Position","3":"1"},{"1":"Jersey, Channel islands","2":"Jersey, Channel Islands","3":"1"},{"1":"Jordan","2":"Jordan","3":"1"},{"1":"Kuwait","2":"Kuwait","3":"1"},{"1":"Luxemburg","2":"Luxemburg","3":"1"},{"1":"Mainland China","2":"Mainland China","3":"1"},{"1":"Malta","2":"Malta","3":"1"},{"1":"México","2":"México","3":"1"},{"1":"Morocco","2":"Morocco","3":"1"},{"1":"n/a (remote from wherever I want)","2":"N/A (Remote From Wherever I Want)","3":"1"},{"1":"Nederland","2":"Nederland","3":"1"},{"1":"new zealand","2":"New Zealand","3":"1"},{"1":"New Zealand Aotearoa","2":"New Zealand","3":"1"},{"1":"Nigeria","2":"Nigeria","3":"1"},{"1":"NL","2":"NL","3":"1"},{"1":"Northern Ireland, United Kingdom","2":"UK","3":"1"},{"1":"Panamá","2":"Panamá","3":"1"},{"1":"Qatar","2":"Qatar","3":"1"},{"1":"Remote (philippines)","2":"Remote (Philippines)","3":"1"},{"1":"Russia","2":"Russia","3":"1"},{"1":"Rwanda","2":"Rwanda","3":"1"},{"1":"San Francisco","2":"San Francisco","3":"1"},{"1":"Saudi Arabia","2":"Saudi Arabia","3":"1"},{"1":"Serbia","2":"Serbia","3":"1"},{"1":"Sierra Leone","2":"Sierra Leone","3":"1"},{"1":"singapore","2":"Singapore","3":"1"},{"1":"Slovakia","2":"Slovakia","3":"1"},{"1":"Slovenia","2":"Slovenia","3":"1"},{"1":"Somalia","2":"Somalia","3":"1"},{"1":"Sri lanka","2":"Sri Lanka","3":"1"},{"1":"Sri Lanka","2":"Sri Lanka","3":"1"},{"1":"switzerland","2":"Switzerland","3":"1"},{"1":"SWITZERLAND","2":"Switzerland","3":"1"},{"1":"The Bahamas","2":"The Bahamas","3":"1"},{"1":"the netherlands","2":"The Netherlands","3":"1"},{"1":"the Netherlands","2":"The Netherlands","3":"1"},{"1":"The netherlands","2":"The Netherlands","3":"1"},{"1":"Trinidad and Tobago","2":"Trinidad And Tobago","3":"1"},{"1":"Turkey","2":"Turkey","3":"1"},{"1":"U. S","2":"USA","3":"1"},{"1":"U.A.","2":"UA","3":"1"},{"1":"U.K","2":"UK","3":"1"},{"1":"U.K. (northern England)","2":"UK","3":"1"},{"1":"U.s.a.","2":"USA","3":"1"},{"1":"U.S>","2":"USA","3":"1"},{"1":"U.SA","2":"USA","3":"1"},{"1":"UA","2":"UA","3":"1"},{"1":"UAE","2":"UAE","3":"1"},{"1":"Uganda","2":"Uganda","3":"1"},{"1":"UK (Northern Ireland)","2":"UK","3":"1"},{"1":"UK for U.S. company","2":"UK","3":"1"},{"1":"UK, but for globally fully remote company","2":"UK","3":"1"},{"1":"UK, remote","2":"UK","3":"1"},{"1":"Ukraine","2":"UK","3":"1"},{"1":"Uniited States","2":"USA","3":"1"},{"1":"United  States","2":"USA","3":"1"},{"1":"United Arab Emirates","2":"United Arab Emirates","3":"1"},{"1":"United Kindom","2":"United Kindom","3":"1"},{"1":"United Kingdom.","2":"UK","3":"1"},{"1":"United Kingdomk","2":"UK","3":"1"},{"1":"united stated","2":"USA","3":"1"},{"1":"United Stateds","2":"USA","3":"1"},{"1":"United Statees","2":"USA","3":"1"},{"1":"United STates","2":"USA","3":"1"},{"1":"UNited States","2":"USA","3":"1"},{"1":"United States- Puerto Rico","2":"USA","3":"1"},{"1":"United States (I work from home and my clients are all over the US/Canada/PR","2":"USA","3":"1"},{"1":"united states of america","2":"USA","3":"1"},{"1":"United states of america","2":"USA","3":"1"},{"1":"United States of American","2":"USA","3":"1"},{"1":"United States of Americas","2":"USA","3":"1"},{"1":"United Statesp","2":"USA","3":"1"},{"1":"United statew","2":"USA","3":"1"},{"1":"United Statss","2":"United Statss","3":"1"},{"1":"United Stattes","2":"United Stattes","3":"1"},{"1":"United Statues","2":"United Statues","3":"1"},{"1":"United Status","2":"United Status","3":"1"},{"1":"United Statws","2":"United Statws","3":"1"},{"1":"United Sttes","2":"United Sttes","3":"1"},{"1":"United y","2":"United Y","3":"1"},{"1":"Uniteed States","2":"USA","3":"1"},{"1":"Unitef Stated","2":"Unitef Stated","3":"1"},{"1":"Uniter Statez","2":"Uniter Statez","3":"1"},{"1":"Unites kingdom","2":"UK","3":"1"},{"1":"Unitied States","2":"USA","3":"1"},{"1":"Uniyed states","2":"USA","3":"1"},{"1":"Uniyes States","2":"USA","3":"1"},{"1":"Unted States","2":"USA","3":"1"},{"1":"Untied States","2":"USA","3":"1"},{"1":"Uruguay","2":"Uruguay","3":"1"},{"1":"uS","2":"USA","3":"1"},{"1":"US govt employee overseas, country withheld","2":"USA","3":"1"},{"1":"US of A","2":"USA","3":"1"},{"1":"uSA","2":"USA","3":"1"},{"1":"UsA","2":"USA","3":"1"},{"1":"USA-- Virgin Islands","2":"USA","3":"1"},{"1":"USA (company is based in a US territory, I work remote)","2":"USA","3":"1"},{"1":"USA, but for foreign gov't","2":"USA","3":"1"},{"1":"USaa","2":"USA","3":"1"},{"1":"USAB","2":"USA","3":"1"},{"1":"Usat","2":"USA","3":"1"},{"1":"USD","2":"USA","3":"1"},{"1":"USS","2":"USA","3":"1"},{"1":"UXZ","2":"UXZ","3":"1"},{"1":"Virginia","2":"Virginia","3":"1"},{"1":"Wales (UK)","2":"UK","3":"1"},{"1":"Wales (United Kingdom)","2":"UK","3":"1"},{"1":"Wales, UK","2":"UK","3":"1"},{"1":"We don't get raises, we get quarterly bonuses, but they periodically asses income in the area you work, so I got a raise because a 3rd party assessment showed I was paid too little for the area we were located","2":"We Don't Get Raises, We Get Quarterly Bonuses, But They Periodically Asses Income In The Area You Work, So I Got A Raise Because A 3rd Party Assessment Showed I Was Paid Too Little For The Area We Were Located","3":"1"},{"1":"Worldwide (based in US but short term trips aroudn the world)","2":"Worldwide (Based In Us But Short Term Trips Aroudn The World)","3":"1"},{"1":"Y","2":"Y","3":"1"},{"1":"Zimbabwe","2":"Zimbabwe","3":"1"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>I think that did a pretty reasonable job of consolidating spellings/misspellings of the most common countries. Visualize the counts, lumping any countries with &lt;20 responses into “Other”:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>survey <span class="sc">%&gt;%</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">country_fact =</span> <span class="fu">fct_infreq</span>(country_clean) <span class="sc">%&gt;%</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>      <span class="fu">fct_lump_min</span>(<span class="at">min =</span> <span class="dv">20</span>)</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">y =</span> country_fact)) <span class="sc">+</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">fill =</span> td_colors<span class="sc">$</span>nice<span class="sc">$</span>strong_red) <span class="sc">+</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="cn">NULL</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="tidytuesday-2021-week-21_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Unsurprisingly for a mostly US-based blog, a large majority of respondents are based in America.</p>
<p>Thankfully, the <code>currency</code> option was a dropdown selection in the survey, so less data cleaning will be needed:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>survey <span class="sc">%&gt;%</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(currency, <span class="at">sort =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div id="kqconqxakr" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#kqconqxakr .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#kqconqxakr .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#kqconqxakr .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#kqconqxakr .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#kqconqxakr .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#kqconqxakr .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#kqconqxakr .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#kqconqxakr .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#kqconqxakr .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#kqconqxakr .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#kqconqxakr .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#kqconqxakr .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#kqconqxakr .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#kqconqxakr .gt_from_md > :first-child {
  margin-top: 0;
}

#kqconqxakr .gt_from_md > :last-child {
  margin-bottom: 0;
}

#kqconqxakr .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#kqconqxakr .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#kqconqxakr .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#kqconqxakr .gt_row_group_first td {
  border-top-width: 2px;
}

#kqconqxakr .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#kqconqxakr .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#kqconqxakr .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#kqconqxakr .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#kqconqxakr .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#kqconqxakr .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#kqconqxakr .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#kqconqxakr .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#kqconqxakr .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#kqconqxakr .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#kqconqxakr .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#kqconqxakr .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#kqconqxakr .gt_left {
  text-align: left;
}

#kqconqxakr .gt_center {
  text-align: center;
}

#kqconqxakr .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#kqconqxakr .gt_font_normal {
  font-weight: normal;
}

#kqconqxakr .gt_font_bold {
  font-weight: bold;
}

#kqconqxakr .gt_font_italic {
  font-style: italic;
}

#kqconqxakr .gt_super {
  font-size: 65%;
}

#kqconqxakr .gt_two_val_uncert {
  display: inline-block;
  line-height: 1em;
  text-align: right;
  font-size: 60%;
  vertical-align: -0.25em;
  margin-left: 0.1em;
}

#kqconqxakr .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

#kqconqxakr .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#kqconqxakr .gt_slash_mark {
  font-size: 0.7em;
  line-height: 0.7em;
  vertical-align: 0.15em;
}

#kqconqxakr .gt_fraction_numerator {
  font-size: 0.6em;
  line-height: 0.6em;
  vertical-align: 0.45em;
}

#kqconqxakr .gt_fraction_denominator {
  font-size: 0.6em;
  line-height: 0.6em;
  vertical-align: -0.05em;
}
</style>
<table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">currency</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">n</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td class="gt_row gt_left">USD</td>
<td class="gt_row gt_right">21852</td></tr>
    <tr><td class="gt_row gt_left">CAD</td>
<td class="gt_row gt_right">1564</td></tr>
    <tr><td class="gt_row gt_left">GBP</td>
<td class="gt_row gt_right">1521</td></tr>
    <tr><td class="gt_row gt_left">EUR</td>
<td class="gt_row gt_right">585</td></tr>
    <tr><td class="gt_row gt_left">AUD/NZD</td>
<td class="gt_row gt_right">469</td></tr>
    <tr><td class="gt_row gt_left">Other</td>
<td class="gt_row gt_right">133</td></tr>
    <tr><td class="gt_row gt_left">CHF</td>
<td class="gt_row gt_right">35</td></tr>
    <tr><td class="gt_row gt_left">SEK</td>
<td class="gt_row gt_right">34</td></tr>
    <tr><td class="gt_row gt_left">JPY</td>
<td class="gt_row gt_right">22</td></tr>
    <tr><td class="gt_row gt_left">ZAR</td>
<td class="gt_row gt_right">13</td></tr>
    <tr><td class="gt_row gt_left">HKD</td>
<td class="gt_row gt_right">4</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
<p>Check out the other currency:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>survey <span class="sc">%&gt;%</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(currency <span class="sc">==</span> <span class="st">"Other"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(currency_other, <span class="at">sort =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>  rmarkdown<span class="sc">::</span><span class="fu">paged_table</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["currency_other"],"name":[1],"type":["chr"],"align":["left"]},{"label":["n"],"name":[2],"type":["int"],"align":["right"]}],"data":[{"1":"DKK","2":"8"},{"1":"MYR","2":"8"},{"1":"USD","2":"8"},{"1":"NOK","2":"7"},{"1":"BRL","2":"6"},{"1":"INR","2":"6"},{"1":"SGD","2":"6"},{"1":"CZK","2":"4"},{"1":"NA","2":"4"},{"1":"AUD","2":"2"},{"1":"CNY","2":"2"},{"1":"Dkk","2":"2"},{"1":"GBP","2":"2"},{"1":"IDR","2":"2"},{"1":"ILS","2":"2"},{"1":"KRW","2":"2"},{"1":"MXN","2":"2"},{"1":"NTD","2":"2"},{"1":"NZD","2":"2"},{"1":"PLN","2":"2"},{"1":"American Dollars","2":"1"},{"1":"Argentine Peso","2":"1"},{"1":"Argentinian peso (ARS)","2":"1"},{"1":"ARS","2":"1"},{"1":"AUD Australian","2":"1"},{"1":"Australian Dollars","2":"1"},{"1":"Bdt","2":"1"},{"1":"BR$","2":"1"},{"1":"BRL (R$)","2":"1"},{"1":"CAD","2":"1"},{"1":"CHF","2":"1"},{"1":"China RMB","2":"1"},{"1":"czech crowns","2":"1"},{"1":"Czk","2":"1"},{"1":"Danish Kroner","2":"1"},{"1":"dkk","2":"1"},{"1":"Equity","2":"1"},{"1":"EUR","2":"1"},{"1":"Euro","2":"1"},{"1":"Ils","2":"1"},{"1":"ILS (Shekel)","2":"1"},{"1":"ILS/NIS","2":"1"},{"1":"Indian rupees","2":"1"},{"1":"INR (Indian Rupee)","2":"1"},{"1":"Israeli Shekels","2":"1"},{"1":"Korean Won","2":"1"},{"1":"KRW (Korean Won)","2":"1"},{"1":"LKR","2":"1"},{"1":"Mexican pesos","2":"1"},{"1":"Mexican Pesos","2":"1"},{"1":"NIS (new Israeli shekel)","2":"1"},{"1":"Nok","2":"1"},{"1":"Norwegian kroner (NOK)","2":"1"},{"1":"Peso Argentino","2":"1"},{"1":"Philippine Peso","2":"1"},{"1":"Philippine peso (PHP)","2":"1"},{"1":"Philippine Pesos","2":"1"},{"1":"Php","2":"1"},{"1":"PHP","2":"1"},{"1":"PhP (Philippine Peso)","2":"1"},{"1":"PLN (Polish zloty)","2":"1"},{"1":"Polish Złoty","2":"1"},{"1":"RM","2":"1"},{"1":"RMB (chinese yuan)","2":"1"},{"1":"SAR","2":"1"},{"1":"SEK","2":"1"},{"1":"Sgd","2":"1"},{"1":"Taiwanese dollars","2":"1"},{"1":"THAI  BAHT","2":"1"},{"1":"THB","2":"1"},{"1":"TRY","2":"1"},{"1":"TTD","2":"1"},{"1":"US Dollar","2":"1"},{"1":"ZAR","2":"1"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>These have few enough responses that they probably aren’t worth cleaning. Just make currency a factor in order of frequency:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>survey <span class="ot">&lt;-</span> survey <span class="sc">%&gt;%</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">currency =</span> <span class="fu">fct_infreq</span>(currency))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>These are the <code>country</code>-<code>currency</code> combinations for USA, Canada and the UK:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>survey <span class="sc">%&gt;%</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(country_clean <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"USA"</span>, <span class="st">"Canada"</span>, <span class="st">"UK"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(country_clean, currency, <span class="at">sort =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>  rmarkdown<span class="sc">::</span><span class="fu">paged_table</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["country_clean"],"name":[1],"type":["chr"],"align":["left"]},{"label":["currency"],"name":[2],"type":["fct"],"align":["left"]},{"label":["n"],"name":[3],"type":["int"],"align":["right"]}],"data":[{"1":"USA","2":"USD","3":"21648"},{"1":"Canada","2":"CAD","3":"1557"},{"1":"UK","2":"GBP","3":"1508"},{"1":"Canada","2":"USD","3":"18"},{"1":"UK","2":"USD","3":"14"},{"1":"USA","2":"Other","3":"13"},{"1":"UK","2":"EUR","3":"3"},{"1":"USA","2":"CAD","3":"3"},{"1":"UK","2":"Other","3":"2"},{"1":"USA","2":"EUR","3":"2"},{"1":"Canada","2":"AUD/NZD","3":"1"},{"1":"Canada","2":"Other","3":"1"},{"1":"Canada","2":"CHF","3":"1"},{"1":"USA","2":"GBP","3":"1"},{"1":"USA","2":"AUD/NZD","3":"1"},{"1":"USA","2":"SEK","3":"1"},{"1":"USA","2":"JPY","3":"1"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p><code>annual_salary</code> and <code>other_monetary_comp</code> are the key variables of this data, but they must be interpreted with <code>currency</code> in mind. First, look for improper (negative, non-numeric) responses:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>survey <span class="sc">%&gt;%</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Missing annual salary</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">is.na</span>(annual_salary) <span class="sc">|</span> <span class="fu">is.na</span>(<span class="fu">as.numeric</span>(annual_salary)) <span class="sc">|</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Zero or negative annual salary</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>      (<span class="fu">as.numeric</span>(annual_salary) <span class="sc">&lt;=</span> <span class="dv">0</span>) <span class="sc">|</span></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Negative other compensation</span></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>      (<span class="fu">as.numeric</span>(other_monetary_comp) <span class="sc">&lt;</span> <span class="dv">0</span>)</span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(industry,  job_title, annual_salary, other_monetary_comp,</span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>         additional_context_on_income) <span class="sc">%&gt;%</span></span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a>  rmarkdown<span class="sc">::</span><span class="fu">paged_table</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["industry"],"name":[1],"type":["chr"],"align":["left"]},{"label":["job_title"],"name":[2],"type":["chr"],"align":["left"]},{"label":["annual_salary"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["other_monetary_comp"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["additional_context_on_income"],"name":[5],"type":["chr"],"align":["left"]}],"data":[{"1":"Stay-at-home parent","2":"\"mum\" ;)","3":"0","4":"0","5":"NA"},{"1":"Nonprofits","2":"Executive Director","3":"0","4":"NA","5":"NA"},{"1":"Law","2":"Attorney","3":"0","4":"185000","5":"I receive bi-weekly draws with end-of-year income distribution."},{"1":"Education (Primary/Secondary)","2":"Student teacher","3":"0","4":"0","5":"Student teaching is usually unpaid"},{"1":"Computing or Tech","2":"Product Marketer","3":"0","4":"0","5":"Start up without funding. Compensation is in stocks."},{"1":"Education (Primary/Secondary)","2":"Househusband","3":"0","4":"0","5":"NA"},{"1":"Computing or Tech","2":"Founder","3":"0","4":"0","5":"NA"},{"1":"Marketing, Advertising & PR","2":"Unemployed","3":"0","4":"NA","5":"NA"},{"1":"Nonprofits","2":"Government Relations Director","3":"0","4":"0","5":"We are working on getting funding for salaries but do not have enough to pay everyone yet."},{"1":"Business or Consulting","2":"Realtor","3":"0","4":"200000","5":"Commission based realtor"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>So 10 cases of <code>annual_salary</code> = 0. In 2 of those cases, the <code>other_monetary_comp</code> makes up the difference, so I’ll create a <code>total_salary</code> variable adding those two:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>survey <span class="ot">&lt;-</span> survey <span class="sc">%&gt;%</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">total_salary =</span> <span class="fu">ifelse</span>(</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>      <span class="fu">is.na</span>(other_monetary_comp),</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.numeric</span>(annual_salary),</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>      <span class="fu">as.numeric</span>(annual_salary) <span class="sc">+</span> <span class="fu">as.numeric</span>(other_monetary_comp)</span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Remove those 8 cases of 0 income</span></span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(total_salary <span class="sc">&gt;</span> <span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Visualize income on a log scale for the most common currencies:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> survey <span class="sc">%&gt;%</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(currency <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"USD"</span>, <span class="st">"CAD"</span>, <span class="st">"GBP"</span>, <span class="st">"EUR"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> total_salary, <span class="at">y =</span> currency)) <span class="sc">+</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_violin</span>(<span class="fu">aes</span>(<span class="at">fill =</span> currency), <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_log10</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">label_dollar</span>()) <span class="sc">+</span></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>currency, <span class="at">scales =</span> <span class="st">"free"</span>) <span class="sc">+</span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">remove_axis</span>(<span class="st">"y"</span>) <span class="sc">+</span></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_facet_borders</span>()</span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>p</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="tidytuesday-2021-week-21_files/figure-html/unnamed-chunk-23-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Even on a log scale, there are a lot of outliers in each currency. If we trim the data to only have the inner 95%:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>p <span class="sc">%+%</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>  (</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>    survey <span class="sc">%&gt;%</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(currency <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"USD"</span>, <span class="st">"CAD"</span>, <span class="st">"GBP"</span>, <span class="st">"EUR"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>      <span class="fu">group_by</span>(currency) <span class="sc">%&gt;%</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(</span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>        total_salary <span class="sc">&lt;</span> <span class="fu">quantile</span>(total_salary, <span class="fl">0.975</span>),</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>        total_salary <span class="sc">&gt;</span> <span class="fu">quantile</span>(total_salary, <span class="fl">0.025</span>)</span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="tidytuesday-2021-week-21_files/figure-html/unnamed-chunk-24-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>These are much more reasonable salary ranges.</p>
<p>There are two variables related to years of experience:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>survey <span class="sc">%&gt;%</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(overall_years_of_professional_experience) <span class="sc">%&gt;%</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>  rmarkdown<span class="sc">::</span><span class="fu">paged_table</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["overall_years_of_professional_experience"],"name":[1],"type":["chr"],"align":["left"]},{"label":["n"],"name":[2],"type":["int"],"align":["right"]}],"data":[{"1":"1 year or less","2":"430"},{"1":"11 - 20 years","2":"9138"},{"1":"2 - 4 years","2":"2699"},{"1":"21 - 30 years","2":"3467"},{"1":"31 - 40 years","2":"821"},{"1":"41 years or more","2":"115"},{"1":"5-7 years","2":"4514"},{"1":"8 - 10 years","2":"5040"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>survey <span class="sc">%&gt;%</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(years_of_experience_in_field) <span class="sc">%&gt;%</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>  rmarkdown<span class="sc">::</span><span class="fu">paged_table</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["years_of_experience_in_field"],"name":[1],"type":["chr"],"align":["left"]},{"label":["n"],"name":[2],"type":["int"],"align":["right"]}],"data":[{"1":"1 year or less","2":"1248"},{"1":"11 - 20 years","2":"6244"},{"1":"2 - 4 years","2":"5735"},{"1":"21 - 30 years","2":"1781"},{"1":"31 - 40 years","2":"366"},{"1":"41 years or more","2":"38"},{"1":"5-7 years","2":"6112"},{"1":"8 - 10 years","2":"4700"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>The same 8 levels were used. Like with the age variable, we can parse these numbers and put them into ordered factors:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>survey <span class="ot">&lt;-</span> survey <span class="sc">%&gt;%</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c</span>(years_of_experience_in_field,</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>        overall_years_of_professional_experience),</span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>      <span class="sc">~</span><span class="fu">fct_reorder</span>(., <span class="fu">parse_number</span>(.))</span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>survey <span class="sc">%&gt;%</span></span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(years_of_experience_in_field,</span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a>        overall_years_of_professional_experience) <span class="sc">%&gt;%</span></span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> years_of_experience_in_field,</span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a>             <span class="at">y =</span> overall_years_of_professional_experience)) <span class="sc">+</span></span>
<span id="cb26-14"><a href="#cb26-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_tile</span>(<span class="fu">aes</span>(<span class="at">fill =</span> n), <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb26-15"><a href="#cb26-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> n), <span class="at">color =</span> <span class="st">"white"</span>) <span class="sc">+</span></span>
<span id="cb26-16"><a href="#cb26-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb26-17"><a href="#cb26-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_discrete</span>(<span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb26-18"><a href="#cb26-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">25</span>, <span class="at">vjust =</span> <span class="fl">0.8</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="tidytuesday-2021-week-21_files/figure-html/unnamed-chunk-26-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>In each case except “41 years or more”, the diagonal of <code>overall_years_of_professional_experience</code> = <code>years_of_experience_in_field</code> is the most frequent co-occurence.</p>
<p>The <code>education</code> options:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>survey <span class="sc">%&gt;%</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(highest_level_of_education_completed, <span class="at">sort =</span> T) <span class="sc">%&gt;%</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>  rmarkdown<span class="sc">::</span><span class="fu">paged_table</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["highest_level_of_education_completed"],"name":[1],"type":["chr"],"align":["left"]},{"label":["n"],"name":[2],"type":["int"],"align":["right"]}],"data":[{"1":"College degree","2":"12583"},{"1":"Master's degree","2":"8382"},{"1":"Some college","2":"1879"},{"1":"PhD","2":"1355"},{"1":"Professional degree (MD, JD, etc.)","2":"1261"},{"1":"High School","2":"568"},{"1":"NA","2":"196"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>We’ll put it in a factor manually ordered by the most years to complete (on average):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>survey <span class="ot">&lt;-</span> survey <span class="sc">%&gt;%</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">highest_level_of_education_completed =</span> <span class="fu">factor</span>(</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>      highest_level_of_education_completed,</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"High School"</span>, <span class="st">"Some college"</span>, <span class="st">"College degree"</span>,</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>                 <span class="st">"Master's degree"</span>, <span class="st">"Professional degree (MD, JD, etc.)"</span>, <span class="st">"PhD"</span>)</span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>survey <span class="sc">%&gt;%</span></span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">highest_level_of_education_completed =</span> <span class="fu">fct_explicit_na</span>(</span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a>      highest_level_of_education_completed</span>
<span id="cb28-13"><a href="#cb28-13" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb28-14"><a href="#cb28-14" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb28-15"><a href="#cb28-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">y =</span> highest_level_of_education_completed)) <span class="sc">+</span></span>
<span id="cb28-16"><a href="#cb28-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">fill =</span> highest_level_of_education_completed),</span>
<span id="cb28-17"><a href="#cb28-17" aria-hidden="true" tabindex="-1"></a>           <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb28-18"><a href="#cb28-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_viridis_d</span>() <span class="sc">+</span></span>
<span id="cb28-19"><a href="#cb28-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">expand =</span> <span class="fu">expansion</span>(<span class="fu">c</span>(<span class="dv">0</span>, <span class="fl">0.1</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="tidytuesday-2021-week-21_files/figure-html/unnamed-chunk-28-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>The <code>gender</code> options:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>survey <span class="sc">%&gt;%</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(gender)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 2
  gender                            n
  &lt;chr&gt;                         &lt;int&gt;
1 Man                            4740
2 Non-binary                      713
3 Other or prefer not to answer   267
4 Prefer not to answer              1
5 Woman                         20355
6 &lt;NA&gt;                            148</code></pre>
</div>
</div>
<p>We can put the “Prefer not to answer” response into the appropriate category, and make a factor:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>survey <span class="ot">&lt;-</span> survey <span class="sc">%&gt;%</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">gender =</span> <span class="fu">ifelse</span>(gender <span class="sc">==</span> <span class="st">"Prefer not to answer"</span>,</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>                         <span class="st">"Other or prefer not to answer"</span>, gender),</span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">gender =</span> <span class="fu">fct_infreq</span>(gender))</span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>survey <span class="sc">%&gt;%</span></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">gender =</span> <span class="fu">fct_explicit_na</span>(gender)) <span class="sc">%&gt;%</span></span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">y =</span> gender)) <span class="sc">+</span></span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">fill =</span> gender), <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="tidytuesday-2021-week-21_files/figure-html/unnamed-chunk-30-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>A lot more women respondents than men.</p>
<p>The <code>race</code> variable was a “Choose all that apply” question:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>survey <span class="sc">%&gt;%</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(race, <span class="at">sort =</span> T) <span class="sc">%&gt;%</span></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>  rmarkdown<span class="sc">::</span><span class="fu">paged_table</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["race"],"name":[1],"type":["chr"],"align":["left"]},{"label":["n"],"name":[2],"type":["int"],"align":["right"]}],"data":[{"1":"White","2":"21903"},{"1":"Asian or Asian American","2":"1216"},{"1":"Black or African American","2":"618"},{"1":"Another option not listed here or prefer not to answer","2":"566"},{"1":"Hispanic, Latino, or Spanish origin","2":"521"},{"1":"Hispanic, Latino, or Spanish origin, White","2":"351"},{"1":"Asian or Asian American, White","2":"327"},{"1":"NA","2":"146"},{"1":"Black or African American, White","2":"121"},{"1":"Middle Eastern or Northern African, White","2":"72"},{"1":"Native American or Alaska Native, White","2":"65"},{"1":"White, Another option not listed here or prefer not to answer","2":"62"},{"1":"Middle Eastern or Northern African","2":"60"},{"1":"Native American or Alaska Native","2":"39"},{"1":"Black or African American, Hispanic, Latino, or Spanish origin","2":"27"},{"1":"Asian or Asian American, Another option not listed here or prefer not to answer","2":"11"},{"1":"Asian or Asian American, Hispanic, Latino, or Spanish origin","2":"11"},{"1":"Asian or Asian American, Hispanic, Latino, or Spanish origin, White","2":"11"},{"1":"Hispanic, Latino, or Spanish origin, Native American or Alaska Native","2":"10"},{"1":"Black or African American, Hispanic, Latino, or Spanish origin, White","2":"9"},{"1":"Hispanic, Latino, or Spanish origin, Native American or Alaska Native, White","2":"9"},{"1":"Asian or Asian American, Black or African American","2":"7"},{"1":"Asian or Asian American, Middle Eastern or Northern African","2":"7"},{"1":"Asian or Asian American, White, Another option not listed here or prefer not to answer","2":"6"},{"1":"Hispanic, Latino, or Spanish origin, Another option not listed here or prefer not to answer","2":"6"},{"1":"Asian or Asian American, Black or African American, White","2":"5"},{"1":"Black or African American, Native American or Alaska Native, White","2":"5"},{"1":"Black or African American, Middle Eastern or Northern African, White","2":"4"},{"1":"Hispanic, Latino, or Spanish origin, Middle Eastern or Northern African, White","2":"4"},{"1":"Black or African American, Hispanic, Latino, or Spanish origin, Native American or Alaska Native, White","2":"3"},{"1":"Asian or Asian American, Native American or Alaska Native, White","2":"2"},{"1":"Black or African American, Another option not listed here or prefer not to answer","2":"2"},{"1":"Black or African American, Middle Eastern or Northern African","2":"2"},{"1":"Middle Eastern or Northern African, White, Another option not listed here or prefer not to answer","2":"2"},{"1":"Asian or Asian American, Black or African American, Hispanic, Latino, or Spanish origin","2":"1"},{"1":"Asian or Asian American, Black or African American, Native American or Alaska Native, White","2":"1"},{"1":"Asian or Asian American, Hispanic, Latino, or Spanish origin, Another option not listed here or prefer not to answer","2":"1"},{"1":"Asian or Asian American, Hispanic, Latino, or Spanish origin, Native American or Alaska Native, White","2":"1"},{"1":"Asian or Asian American, Middle Eastern or Northern African, White","2":"1"},{"1":"Asian or Asian American, Native American or Alaska Native","2":"1"},{"1":"Black or African American, Middle Eastern or Northern African, Native American or Alaska Native, White","2":"1"},{"1":"Hispanic, Latino, or Spanish origin, Middle Eastern or Northern African","2":"1"},{"1":"Hispanic, Latino, or Spanish origin, Native American or Alaska Native, Another option not listed here or prefer not to answer","2":"1"},{"1":"Hispanic, Latino, or Spanish origin, White, Another option not listed here or prefer not to answer","2":"1"},{"1":"Middle Eastern or Northern African, Native American or Alaska Native","2":"1"},{"1":"Middle Eastern or Northern African, Native American or Alaska Native, White","2":"1"},{"1":"Native American or Alaska Native, Another option not listed here or prefer not to answer","2":"1"},{"1":"Native American or Alaska Native, White, Another option not listed here or prefer not to answer","2":"1"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>The responses are split by commas, but the “Hispanic, Latino, or Spanish origin” option has commas itself. We can approach this two ways. (1) Remove the extra commas, tokenize the answers, and store it in a column vector:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>survey <span class="ot">&lt;-</span> survey <span class="sc">%&gt;%</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">race =</span> <span class="fu">str_replace</span>(</span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>      race,</span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Hispanic, Latino, or Spanish"</span>,</span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Hispanic Latino or Spanish"</span></span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">race_split =</span> <span class="fu">str_split</span>(</span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a>      race,</span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a>      <span class="at">pattern =</span> <span class="st">", "</span></span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb33-12"><a href="#cb33-12" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb33-13"><a href="#cb33-13" aria-hidden="true" tabindex="-1"></a>survey <span class="sc">%&gt;%</span></span>
<span id="cb33-14"><a href="#cb33-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(race, race_split) <span class="sc">%&gt;%</span></span>
<span id="cb33-15"><a href="#cb33-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">30</span>) <span class="sc">%&gt;%</span></span>
<span id="cb33-16"><a href="#cb33-16" aria-hidden="true" tabindex="-1"></a>  rmarkdown<span class="sc">::</span><span class="fu">paged_table</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["race"],"name":[1],"type":["chr"],"align":["left"]},{"label":["race_split"],"name":[2],"type":["list"],"align":["right"]}],"data":[{"1":"White","2":"<chr [1]>"},{"1":"White","2":"<chr [1]>"},{"1":"White","2":"<chr [1]>"},{"1":"White","2":"<chr [1]>"},{"1":"White","2":"<chr [1]>"},{"1":"White","2":"<chr [1]>"},{"1":"White","2":"<chr [1]>"},{"1":"White","2":"<chr [1]>"},{"1":"White","2":"<chr [1]>"},{"1":"Hispanic Latino or Spanish origin, White","2":"<chr [2]>"},{"1":"White","2":"<chr [1]>"},{"1":"Hispanic Latino or Spanish origin, White","2":"<chr [2]>"},{"1":"Asian or Asian American, White","2":"<chr [2]>"},{"1":"White","2":"<chr [1]>"},{"1":"White","2":"<chr [1]>"},{"1":"White","2":"<chr [1]>"},{"1":"White","2":"<chr [1]>"},{"1":"White","2":"<chr [1]>"},{"1":"White","2":"<chr [1]>"},{"1":"White","2":"<chr [1]>"},{"1":"White","2":"<chr [1]>"},{"1":"White","2":"<chr [1]>"},{"1":"White","2":"<chr [1]>"},{"1":"Asian or Asian American","2":"<chr [1]>"},{"1":"White","2":"<chr [1]>"},{"1":"White","2":"<chr [1]>"},{"1":"White","2":"<chr [1]>"},{"1":"Another option not listed here or prefer not to answer","2":"<chr [1]>"},{"1":"White","2":"<chr [1]>"},{"1":"White","2":"<chr [1]>"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>Then to get race counts, we unnest the <code>race_split</code> column:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>survey <span class="sc">%&gt;%</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">n_respondents =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest</span>(race_split) <span class="sc">%&gt;%</span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(race_split, n_respondents) <span class="sc">%&gt;%</span></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">p =</span> n <span class="sc">/</span> n_respondents,</span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">race =</span> <span class="fu">fct_reorder</span>(race_split, n) <span class="sc">%&gt;%</span> <span class="fu">fct_explicit_na</span>()</span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">y =</span> race, <span class="at">x =</span> p)) <span class="sc">+</span></span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> scales<span class="sc">::</span><span class="fu">percent</span>(p, <span class="at">accuracy =</span> <span class="fl">0.1</span>)), <span class="at">nudge_x =</span> <span class="fl">0.05</span>) <span class="sc">+</span></span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">fill =</span> td_colors<span class="sc">$</span>nice<span class="sc">$</span>soft_orange) <span class="sc">+</span></span>
<span id="cb34-12"><a href="#cb34-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="st">"Percentage of respondents"</span>,</span>
<span id="cb34-13"><a href="#cb34-13" aria-hidden="true" tabindex="-1"></a>                     <span class="at">labels =</span> scales<span class="sc">::</span>percent,</span>
<span id="cb34-14"><a href="#cb34-14" aria-hidden="true" tabindex="-1"></a>                     <span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>), <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="tidytuesday-2021-week-21_files/figure-html/unnamed-chunk-33-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Or (2) manually create indicator variables for each response:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>survey <span class="ot">&lt;-</span> survey <span class="sc">%&gt;%</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">white =</span> <span class="fu">str_detect</span>(race, <span class="st">"White"</span>),</span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">asian =</span> <span class="fu">str_detect</span>(race, <span class="st">"Asian"</span>),</span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">black =</span> <span class="fu">str_detect</span>(race, <span class="st">"Black"</span>),</span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">hispanic_latino_spanish =</span> <span class="fu">str_detect</span>(race, <span class="st">"Hispanic"</span>),</span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">middle_eastern_northern_african =</span> <span class="fu">str_detect</span>(race, <span class="st">"Middle Eastern"</span>),</span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">native_american_alaska =</span> <span class="fu">str_detect</span>(race, <span class="st">"Native"</span>),</span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">other_na =</span> <span class="fu">str_detect</span>(race, <span class="st">"Another option"</span>)</span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Need to fix NA values</span></span>
<span id="cb35-12"><a href="#cb35-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb35-13"><a href="#cb35-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(white<span class="sc">:</span>other_na, <span class="sc">~</span><span class="fu">replace_na</span>(., <span class="cn">FALSE</span>))</span>
<span id="cb35-14"><a href="#cb35-14" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb35-15"><a href="#cb35-15" aria-hidden="true" tabindex="-1"></a>survey <span class="sc">%&gt;%</span></span>
<span id="cb35-16"><a href="#cb35-16" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add an indicator if NA race</span></span>
<span id="cb35-17"><a href="#cb35-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">missing =</span> <span class="fu">is.na</span>(race)) <span class="sc">%&gt;%</span></span>
<span id="cb35-18"><a href="#cb35-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="fu">across</span>(white<span class="sc">:</span>missing, <span class="sc">~</span><span class="fu">mean</span>(.))) <span class="sc">%&gt;%</span></span>
<span id="cb35-19"><a href="#cb35-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="fu">everything</span>(), <span class="at">names_to =</span> <span class="st">"race"</span>, <span class="at">values_to =</span> <span class="st">"p"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb35-20"><a href="#cb35-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">race =</span> <span class="fu">fct_reorder</span>(race, p)) <span class="sc">%&gt;%</span></span>
<span id="cb35-21"><a href="#cb35-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">y =</span> race, <span class="at">x =</span> p)) <span class="sc">+</span></span>
<span id="cb35-22"><a href="#cb35-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> scales<span class="sc">::</span><span class="fu">percent</span>(p, <span class="at">accuracy =</span> <span class="fl">0.1</span>)), <span class="at">nudge_x =</span> <span class="fl">0.05</span>) <span class="sc">+</span></span>
<span id="cb35-23"><a href="#cb35-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">fill =</span> td_colors<span class="sc">$</span>nice<span class="sc">$</span>soft_orange) <span class="sc">+</span></span>
<span id="cb35-24"><a href="#cb35-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="st">"Percentage of respondents"</span>,</span>
<span id="cb35-25"><a href="#cb35-25" aria-hidden="true" tabindex="-1"></a>                     <span class="at">labels =</span> scales<span class="sc">::</span>percent,</span>
<span id="cb35-26"><a href="#cb35-26" aria-hidden="true" tabindex="-1"></a>                     <span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>), <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="tidytuesday-2021-week-21_files/figure-html/unnamed-chunk-34-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Same percentages, just different labels on the <code>race</code> variable because of how the data were wrangled.</p>
</section>
<section id="analysis-data-oriented-professions-in-north-america" class="level1">
<h1>Analysis: data-oriented professions in North America</h1>
<p>After exploring the data, I decided I’d like to analyze the salaries of the data-oriented professions in Canada and the US. Filter by <code>job_title</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>survey_data <span class="ot">&lt;-</span> survey <span class="sc">%&gt;%</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>    country_clean <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"USA"</span>, <span class="st">"Canada"</span>),</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">str_detect</span>(job_title,</span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>               <span class="fu">regex</span>(<span class="st">"data|statistic|stats|machine learn"</span>, <span class="at">ignore_case =</span> <span class="cn">TRUE</span>))</span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a>survey_data <span class="sc">%&gt;%</span></span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(job_title, <span class="at">sort =</span> T) <span class="sc">%&gt;%</span></span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a>  rmarkdown<span class="sc">::</span><span class="fu">paged_table</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["job_title"],"name":[1],"type":["chr"],"align":["left"]},{"label":["n"],"name":[2],"type":["int"],"align":["right"]}],"data":[{"1":"Data Analyst","2":"84"},{"1":"Data Scientist","2":"50"},{"1":"Senior Data Scientist","2":"20"},{"1":"Data analyst","2":"16"},{"1":"Data Engineer","2":"15"},{"1":"Data scientist","2":"14"},{"1":"Senior Data Analyst","2":"12"},{"1":"Database Administrator","2":"10"},{"1":"Data Manager","2":"9"},{"1":"Statistician","2":"7"},{"1":"Biostatistician","2":"6"},{"1":"Director of Data Science","2":"5"},{"1":"Database Manager","2":"4"},{"1":"Lead Data Scientist","2":"4"},{"1":"Sr Data Analyst","2":"4"},{"1":"data scientist","2":"3"},{"1":"Database Analyst","2":"3"},{"1":"Machine Learning Engineer","2":"3"},{"1":"Metadata Librarian","2":"3"},{"1":"Senior data analyst","2":"3"},{"1":"Senior Data Manager","2":"3"},{"1":"Chief Data Scientist","2":"2"},{"1":"data analyst","2":"2"},{"1":"Data Analyst II","2":"2"},{"1":"Data Architect","2":"2"},{"1":"Data Entry","2":"2"},{"1":"Data Entry Specialist","2":"2"},{"1":"Data Processor","2":"2"},{"1":"Data science manager","2":"2"},{"1":"Data Science Manager","2":"2"},{"1":"Data Scientist II","2":"2"},{"1":"Data Specialist","2":"2"},{"1":"Database Specialist","2":"2"},{"1":"Master Data Analyst","2":"2"},{"1":"Principal Data Scientist","2":"2"},{"1":"Research and Data Analyst","2":"2"},{"1":"Senior Statistician","2":"2"},{"1":"Actuarial data /systems programmer","2":"1"},{"1":"Admin / Data Entry","2":"1"},{"1":"Administrative and Data Coordinator","2":"1"},{"1":"Admission Prospect Data Specialist","2":"1"},{"1":"Annual Fund and Database Manager","2":"1"},{"1":"Applied Data Scientist","2":"1"},{"1":"Assistant Director, Data Integrity","2":"1"},{"1":"Assistant Professor/Director of Cataloging & Metadata Services","2":"1"},{"1":"Assoc Dir Data Analysis","2":"1"},{"1":"Associate Data Analyst","2":"1"},{"1":"Associate Data Scientist","2":"1"},{"1":"Biostatistician I","2":"1"},{"1":"Business Analyst, Enterprise Data Governance","2":"1"},{"1":"Business Data Analyst","2":"1"},{"1":"Business Operations (Data Analyst)","2":"1"},{"1":"Consultant, data analyst","2":"1"},{"1":"Crime Data Analyst","2":"1"},{"1":"Customer Data Management","2":"1"},{"1":"Data & Analytics Director","2":"1"},{"1":"Data & Evaluation Specialist","2":"1"},{"1":"Data / Document Specialist","2":"1"},{"1":"Data Admin","2":"1"},{"1":"data Analyst","2":"1"},{"1":"Data Analyst (EC-05)","2":"1"},{"1":"Data Analyst 2","2":"1"},{"1":"Data Analyst Engineer","2":"1"},{"1":"Data Analyst III","2":"1"},{"1":"Data Analyst Manager","2":"1"},{"1":"Data Analyst Supervisor (Public Health)","2":"1"},{"1":"Data Analyst, Fundraising","2":"1"},{"1":"Data Analytics","2":"1"},{"1":"Data Analytics Consultant","2":"1"},{"1":"Data Analytics Developer","2":"1"},{"1":"Data Analytics Lead","2":"1"},{"1":"Data analytics manager","2":"1"},{"1":"Data Analytics Manager","2":"1"},{"1":"Data and Analytics Lead","2":"1"},{"1":"Data and Analytics Product Manager","2":"1"},{"1":"Data and Evaluation Specialist","2":"1"},{"1":"Data and Insights Analyst","2":"1"},{"1":"Data and layout","2":"1"},{"1":"Data and policy specialist","2":"1"},{"1":"Data and Quality Assurance Manager","2":"1"},{"1":"Data and Reporting Analyst","2":"1"},{"1":"Data architect","2":"1"},{"1":"data associate","2":"1"},{"1":"Data Associate","2":"1"},{"1":"Data Consultant","2":"1"},{"1":"Data Conversion Analyst IV","2":"1"},{"1":"data coordinator","2":"1"},{"1":"Data coordinator","2":"1"},{"1":"Data Coordinator","2":"1"},{"1":"Data curator","2":"1"},{"1":"Data engineer","2":"1"},{"1":"Data Engineering Manager","2":"1"},{"1":"Data Entry and Records Specialist","2":"1"},{"1":"Data Entry Associate","2":"1"},{"1":"Data entry clerk","2":"1"},{"1":"Data Governance","2":"1"},{"1":"Data Governance Analyst","2":"1"},{"1":"Data Insights Analyst","2":"1"},{"1":"Data Integrity","2":"1"},{"1":"Data Integrity Specialist","2":"1"},{"1":"Data Lead","2":"1"},{"1":"Data librarian","2":"1"},{"1":"Data Management Officer","2":"1"},{"1":"Data Management Team Lead","2":"1"},{"1":"Data Migration Consultant","2":"1"},{"1":"Data Privacy & Compliance Professional","2":"1"},{"1":"Data processing","2":"1"},{"1":"data product manager","2":"1"},{"1":"Data Programmer Analyst","2":"1"},{"1":"Data Quality Analyst","2":"1"},{"1":"Data Quality Lead","2":"1"},{"1":"Data quality manager","2":"1"},{"1":"data science","2":"1"},{"1":"Data scientist /epidemiologist","2":"1"},{"1":"Data Scientist 2","2":"1"},{"1":"Data Scientist III","2":"1"},{"1":"Data services associate","2":"1"},{"1":"Data Statistician","2":"1"},{"1":"Data Strategist","2":"1"},{"1":"Data Strategy & Analytics Consultant","2":"1"},{"1":"Data Support","2":"1"},{"1":"Data Systems Manager","2":"1"},{"1":"data team lead","2":"1"},{"1":"Data visualization consultant","2":"1"},{"1":"Data visualization developer","2":"1"},{"1":"Data warehouse operations analyst","2":"1"},{"1":"Database administrator","2":"1"},{"1":"Database Administrator SQL","2":"1"},{"1":"Database Architect","2":"1"},{"1":"Database Assistant","2":"1"},{"1":"Database Associate","2":"1"},{"1":"database developer","2":"1"},{"1":"Database Developer","2":"1"},{"1":"Development and Data Specialist","2":"1"},{"1":"Development Database Associate","2":"1"},{"1":"Development Database Manager","2":"1"},{"1":"Director - Data Operations","2":"1"},{"1":"Director - Data Science","2":"1"},{"1":"Director of Data & Analytics","2":"1"},{"1":"Director of Data & Information Systems","2":"1"},{"1":"Director of Data Analytics","2":"1"},{"1":"Director of Data and Reporting","2":"1"},{"1":"Director of Data Engineering","2":"1"},{"1":"Director of Library and Database Services","2":"1"},{"1":"Director of Research and Data Analytics","2":"1"},{"1":"Director, Advanced Analytics and Statistics","2":"1"},{"1":"Director, Biostatistics","2":"1"},{"1":"Director, Data Analytics","2":"1"},{"1":"Director, Data Management","2":"1"},{"1":"Director, Data Management (non-academic)","2":"1"},{"1":"Director, Master Data","2":"1"},{"1":"District Data Manager","2":"1"},{"1":"Federal consultant (data analytics)","2":"1"},{"1":"Financial Data Specialist","2":"1"},{"1":"Geospatial Data Technician II","2":"1"},{"1":"Gifts and Data Coordinator","2":"1"},{"1":"GIS Data Specialist","2":"1"},{"1":"Global Data Team Leader","2":"1"},{"1":"Government Statistician","2":"1"},{"1":"HCIS Database Analyst","2":"1"},{"1":"Head data scientist","2":"1"},{"1":"Head metadata librarian","2":"1"},{"1":"Head of Data & Analytics","2":"1"},{"1":"Head of Data Science","2":"1"},{"1":"Head of Data Science & Analytics","2":"1"},{"1":"Healthcare Data Analyst","2":"1"},{"1":"Interim Director of Cataloging and Metadata Services","2":"1"},{"1":"IT Project Manager and Data Analyst","2":"1"},{"1":"Lead Data Engineer","2":"1"},{"1":"Lead Data Strategist","2":"1"},{"1":"Management Analyst IV (Data Analyst)","2":"1"},{"1":"Manager of Data Engineering","2":"1"},{"1":"Manager of Data Integrity and Prospect Research","2":"1"},{"1":"Manager of Data Science","2":"1"},{"1":"Manager of Market Research and Data","2":"1"},{"1":"Manager, Gift Processing and Data Management","2":"1"},{"1":"Managing Director Data Science and Analytics","2":"1"},{"1":"Mathematical Statistician","2":"1"},{"1":"Media and Data Analyst","2":"1"},{"1":"Member Data Specialist","2":"1"},{"1":"Membership & Data Analytics Manager","2":"1"},{"1":"Metadata Management Librarian","2":"1"},{"1":"Metadata Specialist II","2":"1"},{"1":"Office specialist-database management","2":"1"},{"1":"Officer, Analyst II- System/Data Security","2":"1"},{"1":"Operations Data Analyst","2":"1"},{"1":"Principal Data Science Manager","2":"1"},{"1":"principal data scientist","2":"1"},{"1":"Principal Project Data Manager","2":"1"},{"1":"Principal Statistical Programmer","2":"1"},{"1":"Product Data Analyst","2":"1"},{"1":"Product Owner: Data, Reporting, & Analytics","2":"1"},{"1":"Project Analyst or Data Manager","2":"1"},{"1":"Provider Data Analyst","2":"1"},{"1":"Provider Data Specialist III","2":"1"},{"1":"Quality data analyst","2":"1"},{"1":"Quality Improvement Data Analyst","2":"1"},{"1":"Records and Data Control Specialist","2":"1"},{"1":"Recruiter & Data Analyst","2":"1"},{"1":"Reporting & Data Analyst","2":"1"},{"1":"Research Data Analyst","2":"1"},{"1":"Research Data Coordinator","2":"1"},{"1":"Research Data Specialist","2":"1"},{"1":"Research Specialist/Data Analyst","2":"1"},{"1":"Senior Advisor, Data Science","2":"1"},{"1":"Senior Associate Data Scientist","2":"1"},{"1":"Senior biostatistician","2":"1"},{"1":"Senior Biostatistician","2":"1"},{"1":"Senior Clinical Data Analyst","2":"1"},{"1":"Senior Data & Policy Specialist","2":"1"},{"1":"senior data analyst","2":"1"},{"1":"Senior Data Analytics Developer","2":"1"},{"1":"Senior Data architect","2":"1"},{"1":"Senior data engineer","2":"1"},{"1":"Senior Data Engineer","2":"1"},{"1":"Senior Data Quality Specialist","2":"1"},{"1":"senior data scientist","2":"1"},{"1":"Senior data scientist","2":"1"},{"1":"Senior Data scientist","2":"1"},{"1":"Senior Database Administrator","2":"1"},{"1":"Senior Database Analyst","2":"1"},{"1":"Senior Database Engineer","2":"1"},{"1":"Senior director data management","2":"1"},{"1":"Senior Director, Data Engineering","2":"1"},{"1":"Senior Editor, Data Visualization","2":"1"},{"1":"Senior GIS Data Analyst","2":"1"},{"1":"Senior Health Data Analyst","2":"1"},{"1":"Senior Machine Learning Engineer","2":"1"},{"1":"Senior Manager, Statistics","2":"1"},{"1":"senior marketing data specialist","2":"1"},{"1":"Senior Research Data Analyst","2":"1"},{"1":"Senior Technical Data Analyst","2":"1"},{"1":"Software and Database Engineer","2":"1"},{"1":"Sr data consultant","2":"1"},{"1":"Sr Database Administrator","2":"1"},{"1":"Sr Fraud Data Analyst","2":"1"},{"1":"Sr Manager, Data","2":"1"},{"1":"Sr. Data Analyst","2":"1"},{"1":"Sr. Data Scientist","2":"1"},{"1":"Sr. Database Analyst","2":"1"},{"1":"Staff Data Scientist","2":"1"},{"1":"Statistical Analyst","2":"1"},{"1":"Statistical Analyst II","2":"1"},{"1":"Statistical Associate","2":"1"},{"1":"Statistical Program Manager","2":"1"},{"1":"Statistical Programmer","2":"1"},{"1":"Statistical Programmer II","2":"1"},{"1":"Statistical Programmer/Data Analyst","2":"1"},{"1":"Statistician II","2":"1"},{"1":"Statistics Supervisor","2":"1"},{"1":"Strategic Data Manager","2":"1"},{"1":"Student data specialist","2":"1"},{"1":"Surveillance Data Manager","2":"1"},{"1":"Survey Statistician","2":"1"},{"1":"Technical consultant (data science/AI)","2":"1"},{"1":"Technical Data Analyst","2":"1"},{"1":"Technical Data Msnager","2":"1"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>257 unique <code>job_title</code>s if far too many, so I’ll attempt to bucket them into general titles:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>survey_data <span class="ot">&lt;-</span> survey_data <span class="sc">%&gt;%</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">job_title_factor =</span> <span class="fu">tolower</span>(job_title),</span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">job_title_factor =</span> <span class="fu">case_when</span>(</span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>      <span class="fu">str_detect</span>(job_title_factor, <span class="st">"analyst|analyti"</span>) <span class="sc">~</span> <span class="st">"Data analyst"</span>,</span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>      <span class="fu">str_detect</span>(job_title_factor, <span class="st">"scientist|data sci"</span>) <span class="sc">~</span> <span class="st">"Data scientist"</span>,</span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a>      <span class="fu">str_detect</span>(job_title_factor,</span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a>                 <span class="st">"(data|database) engineer"</span>) <span class="sc">~</span> <span class="st">"Data engineer"</span>,</span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a>      <span class="fu">str_detect</span>(job_title_factor,</span>
<span id="cb37-10"><a href="#cb37-10" aria-hidden="true" tabindex="-1"></a>                 <span class="st">"machine learning"</span>) <span class="sc">~</span> <span class="st">"Machine learning engineer"</span>,</span>
<span id="cb37-11"><a href="#cb37-11" aria-hidden="true" tabindex="-1"></a>      <span class="fu">str_detect</span>(</span>
<span id="cb37-12"><a href="#cb37-12" aria-hidden="true" tabindex="-1"></a>        job_title_factor,</span>
<span id="cb37-13"><a href="#cb37-13" aria-hidden="true" tabindex="-1"></a>        <span class="st">"(data|database) (man|dev|admin|assoc|special|assist)|librar"</span></span>
<span id="cb37-14"><a href="#cb37-14" aria-hidden="true" tabindex="-1"></a>      ) <span class="sc">~</span> <span class="st">"Database specialist"</span>,</span>
<span id="cb37-15"><a href="#cb37-15" aria-hidden="true" tabindex="-1"></a>      <span class="fu">str_detect</span>(job_title_factor, <span class="st">"statistician"</span>) <span class="sc">~</span> <span class="st">"Statistician"</span>,</span>
<span id="cb37-16"><a href="#cb37-16" aria-hidden="true" tabindex="-1"></a>      <span class="fu">str_detect</span>(</span>
<span id="cb37-17"><a href="#cb37-17" aria-hidden="true" tabindex="-1"></a>        job_title_factor,</span>
<span id="cb37-18"><a href="#cb37-18" aria-hidden="true" tabindex="-1"></a>        <span class="st">"director|manager|(lead|leader|head|supervisor)$|coordin|assoc dir|^(head|lead)"</span></span>
<span id="cb37-19"><a href="#cb37-19" aria-hidden="true" tabindex="-1"></a>      ) <span class="sc">~</span> <span class="st">"Director/manager/lead/coordinator/supervisor"</span>,</span>
<span id="cb37-20"><a href="#cb37-20" aria-hidden="true" tabindex="-1"></a>      <span class="fu">str_detect</span>(job_title_factor, <span class="st">"entry|processor"</span>) <span class="sc">~</span> <span class="st">"Data entry"</span>,</span>
<span id="cb37-21"><a href="#cb37-21" aria-hidden="true" tabindex="-1"></a>      <span class="fu">str_detect</span>(job_title_factor, <span class="st">"architect"</span>) <span class="sc">~</span> <span class="st">"Data architect"</span>,</span>
<span id="cb37-22"><a href="#cb37-22" aria-hidden="true" tabindex="-1"></a>      <span class="fu">str_detect</span>(job_title_factor, <span class="st">"consult"</span>) <span class="sc">~</span> <span class="st">"Consultant"</span>,</span>
<span id="cb37-23"><a href="#cb37-23" aria-hidden="true" tabindex="-1"></a>      <span class="fu">str_detect</span>(job_title_factor,</span>
<span id="cb37-24"><a href="#cb37-24" aria-hidden="true" tabindex="-1"></a>                 <span class="st">"statistical prog"</span>) <span class="sc">~</span> <span class="st">"Statistical programmer"</span>,</span>
<span id="cb37-25"><a href="#cb37-25" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"Other"</span></span>
<span id="cb37-26"><a href="#cb37-26" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb37-27"><a href="#cb37-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">job_title_factor =</span> <span class="fu">fct_infreq</span>(job_title_factor)</span>
<span id="cb37-28"><a href="#cb37-28" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>A few of my choices in the above categorization that should be noted:</p>
<ul>
<li>Statistician and biostatistician were combined</li>
<li>Database specialist
<ul>
<li>Includes data managers, administrators, associates,</li>
<li>I included data librarian, which I’m not sure is accurate</li>
</ul></li>
<li>A lot of leadership roles were grouped together, though their typical roles might differ a lot</li>
<li>There are a few cases with low frequency that I left as “Other”, like:
<ul>
<li>Data Strategist (n=1)</li>
<li>Data curator (n=1)</li>
<li>Data visualization developer (n=1)</li>
</ul></li>
</ul>
<p>We now have the following distribution of <code>job_title</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>survey_data <span class="sc">%&gt;%</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">y =</span> job_title_factor)) <span class="sc">+</span></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="tidytuesday-2021-week-21_files/figure-html/unnamed-chunk-37-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Distribution of <code>currency</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>survey_data <span class="sc">%&gt;%</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(currency) <span class="sc">%&gt;%</span></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>  rmarkdown<span class="sc">::</span><span class="fu">paged_table</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["currency"],"name":[1],"type":["fct"],"align":["left"]},{"label":["n"],"name":[2],"type":["int"],"align":["right"]}],"data":[{"1":"USD","2":"502"},{"1":"CAD","2":"27"},{"1":"Other","2":"1"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>A single case of <code>currency</code> = “Other”:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>survey_data <span class="sc">%&gt;%</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(currency <span class="sc">==</span> <span class="st">"Other"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(annual_salary, other_monetary_comp, currency, currency_other,</span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>         additional_context_on_income, country, state) <span class="sc">%&gt;%</span></span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">glimpse</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 1
Columns: 7
$ annual_salary                &lt;dbl&gt; 135000
$ other_monetary_comp          &lt;dbl&gt; NA
$ currency                     &lt;fct&gt; Other
$ currency_other               &lt;chr&gt; "USD"
$ additional_context_on_income &lt;chr&gt; NA
$ country                      &lt;chr&gt; "US"
$ state                        &lt;chr&gt; "Illinois"</code></pre>
</div>
</div>
<p>Seems like they meant to put USD.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>survey_data <span class="ot">&lt;-</span> survey_data <span class="sc">%&gt;%</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">currency =</span> <span class="fu">ifelse</span>(currency <span class="sc">==</span> <span class="st">"Other"</span>, <span class="st">"USD"</span>, <span class="fu">as.character</span>(currency)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Distribution of <code>currency</code> by country:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>survey_data <span class="sc">%&gt;%</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(currency, country_clean) <span class="sc">%&gt;%</span></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>  rmarkdown<span class="sc">::</span><span class="fu">paged_table</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["currency"],"name":[1],"type":["chr"],"align":["left"]},{"label":["country_clean"],"name":[2],"type":["chr"],"align":["left"]},{"label":["n"],"name":[3],"type":["int"],"align":["right"]}],"data":[{"1":"CAD","2":"Canada","3":"27"},{"1":"USD","2":"Canada","3":"1"},{"1":"USD","2":"USA","3":"502"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>A single case of someone in Canada being paid in USD:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>survey_data <span class="sc">%&gt;%</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(currency <span class="sc">==</span> <span class="st">"USD"</span>, country_clean <span class="sc">==</span> <span class="st">"Canada"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">glimpse</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 1
Columns: 32
$ timestamp                                &lt;dttm&gt; 2021-04-28 15:31:11
$ how_old_are_you                          &lt;chr&gt; "55-64"
$ industry                                 &lt;chr&gt; "Computing or Tech"
$ job_title                                &lt;chr&gt; "Senior Data Scientist"
$ additional_context_on_job_title          &lt;chr&gt; NA
$ annual_salary                            &lt;dbl&gt; 170000
$ other_monetary_comp                      &lt;dbl&gt; 20000
$ currency                                 &lt;chr&gt; "USD"
$ currency_other                           &lt;chr&gt; NA
$ additional_context_on_income             &lt;chr&gt; NA
$ country                                  &lt;chr&gt; "Canada"
$ state                                    &lt;chr&gt; NA
$ city                                     &lt;chr&gt; "Annapolis Valley"
$ overall_years_of_professional_experience &lt;fct&gt; 41 years or more
$ years_of_experience_in_field             &lt;fct&gt; 41 years or more
$ highest_level_of_education_completed     &lt;fct&gt; "Master's degree"
$ gender                                   &lt;fct&gt; Man
$ race                                     &lt;chr&gt; "White"
$ survey_date                              &lt;date&gt; 2021-04-28
$ age_range                                &lt;fct&gt; 55-64
$ industry_factor                          &lt;fct&gt; "Computing or Tech"
$ country_clean                            &lt;chr&gt; "Canada"
$ total_salary                             &lt;dbl&gt; 190000
$ race_split                               &lt;list&gt; "White"
$ white                                    &lt;lgl&gt; TRUE
$ asian                                    &lt;lgl&gt; FALSE
$ black                                    &lt;lgl&gt; FALSE
$ hispanic_latino_spanish                  &lt;lgl&gt; FALSE
$ middle_eastern_northern_african          &lt;lgl&gt; FALSE
$ native_american_alaska                   &lt;lgl&gt; FALSE
$ other_na                                 &lt;lgl&gt; FALSE
$ job_title_factor                         &lt;fct&gt; Data scientist</code></pre>
</div>
</div>
<p>Since it is just the one case, I’ll convert their salary to CAD using today’s exchange rate:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>survey_data <span class="ot">&lt;-</span> survey_data <span class="sc">%&gt;%</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">total_salary =</span> <span class="fu">ifelse</span>(currency <span class="sc">==</span> <span class="st">"USD"</span> <span class="sc">&amp;</span> country_clean <span class="sc">==</span> <span class="st">"Canada"</span>,</span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>                          total_salary <span class="sc">*</span> <span class="fl">1.20</span>, total_salary),</span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">currency =</span> <span class="fu">ifelse</span>(currency <span class="sc">==</span> <span class="st">"USD"</span> <span class="sc">&amp;</span> country_clean <span class="sc">==</span> <span class="st">"Canada"</span>,</span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a>                      <span class="st">"CAD"</span>, currency)</span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Check out <code>total_salary</code> distributions:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>survey_data <span class="sc">%&gt;%</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">y =</span> currency, <span class="at">x =</span> total_salary)) <span class="sc">+</span></span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_violin</span>(<span class="fu">aes</span>(<span class="at">fill =</span> currency), <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_log10</span>(<span class="at">labels =</span> scales<span class="sc">::</span>dollar)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="tidytuesday-2021-week-21_files/figure-html/unnamed-chunk-44-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Some pretty bad outliers here – inspect them:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>survey_data <span class="sc">%&gt;%</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(total_salary <span class="sc">&lt;</span> <span class="dv">20000</span> <span class="sc">|</span> total_salary <span class="sc">&gt;</span> <span class="dv">300000</span>) <span class="sc">%&gt;%</span></span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(job_title, additional_context_on_job_title,</span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>         annual_salary, other_monetary_comp, total_salary, currency,</span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>         additional_context_on_income, country_clean, city,</span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a>         highest_level_of_education_completed, age_range) <span class="sc">%&gt;%</span></span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(total_salary) <span class="sc">%&gt;%</span></span>
<span id="cb48-8"><a href="#cb48-8" aria-hidden="true" tabindex="-1"></a>  rmarkdown<span class="sc">::</span><span class="fu">paged_table</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["job_title"],"name":[1],"type":["chr"],"align":["left"]},{"label":["additional_context_on_job_title"],"name":[2],"type":["chr"],"align":["left"]},{"label":["annual_salary"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["other_monetary_comp"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["total_salary"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["currency"],"name":[6],"type":["chr"],"align":["left"]},{"label":["additional_context_on_income"],"name":[7],"type":["chr"],"align":["left"]},{"label":["country_clean"],"name":[8],"type":["chr"],"align":["left"]},{"label":["city"],"name":[9],"type":["chr"],"align":["left"]},{"label":["highest_level_of_education_completed"],"name":[10],"type":["fct"],"align":["left"]},{"label":["age_range"],"name":[11],"type":["fct"],"align":["left"]}],"data":[{"1":"Chief Data Scientist","2":"NA","3":"130","4":"0","5":"130","6":"USD","7":"NA","8":"USA","9":"Santa Fe","10":"PhD","11":"25-34"},{"1":"Senior Data Scientist","2":"NA","3":"150","4":"0","5":"150","6":"USD","7":"equity options available","8":"USA","9":"Gainesville","10":"Master's degree","11":"25-34"},{"1":"Chief Data Scientist","2":"NA","3":"240","4":"100","5":"340","6":"USD","7":"Additional compensation is expected value of options.","8":"USA","9":"Oakland","10":"PhD","11":"25-34"},{"1":"Director of Library and Database Services","2":"I am a library director for a private all girls high school","3":"353200","4":"10290","5":"363490","6":"USD","7":"I receive additional stipends for teaching a class, coordinating a large event and a cash out from my benefits since I am on my husbands insurance.","8":"USA","9":"Baltimore","10":"Master's degree","11":"35-44"},{"1":"Data Science Manager","2":"NA","3":"220000","4":"150000","5":"370000","6":"USD","7":"40k of the additional amt is bonus the rest is stock comp","8":"USA","9":"New York","10":"Master's degree","11":"35-44"},{"1":"Data Scientist","2":"NA","3":"185000","4":"190000","5":"375000","6":"USD","7":"NA","8":"USA","9":"New York City","10":"College degree","11":"25-34"},{"1":"Data Scientist","2":"NA","3":"225000","4":"200000","5":"425000","6":"USD","7":"The \"additional\" is estimated approx annual value of stock, and fluctuates a lot. This is a successful company I joined slightly pre-IPO.","8":"USA","9":"San Francisco","10":"PhD","11":"25-34"},{"1":"Data Scientist","2":"NA","3":"220000","4":"800000","5":"1020000","6":"USD","7":"NA","8":"USA","9":"San Francisco","10":"Master's degree","11":"35-44"},{"1":"Manager of Data Science","2":"NA","3":"280000","4":"780000","5":"1060000","6":"USD","7":"NA","8":"USA","9":"Oakland","10":"PhD","11":"35-44"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<p>I’m almost certain that the 3 digit values are in thousands. The largest outliers come from <code>other_monetary_comp</code> and, from the <code>additional_context_on_income</code> column, it comes from options/stock I’ll just adjust the two cases where it puts <code>total_salary</code> over 1 million:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>survey_data <span class="ot">&lt;-</span> survey_data <span class="sc">%&gt;%</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">total_salary =</span> <span class="fu">ifelse</span>(total_salary <span class="sc">&lt;</span> <span class="dv">1000</span>,</span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>                          total_salary <span class="sc">*</span> <span class="dv">1000</span>, total_salary),</span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">total_salary =</span> <span class="fu">ifelse</span>(total_salary <span class="sc">&gt;</span> <span class="dv">1000000</span>,</span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a>                          annual_salary, total_salary)</span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We still have a few people with <code>total_salary</code> &gt; $300k, but some are in expensive cities like NYC and San Francisco, so maybe it’s real.</p>
<p>Final processing step, dropping some variables and renaming others:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>survey_data <span class="ot">&lt;-</span> survey_data <span class="sc">%&gt;%</span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">transmute</span>(</span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>    age_range, <span class="at">industry =</span> industry_factor,</span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a>    job_title, <span class="at">job_title_factor =</span> <span class="fu">fct_infreq</span>(job_title_factor),</span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">country =</span> country_clean, state, city,</span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">education =</span> highest_level_of_education_completed,</span>
<span id="cb50-7"><a href="#cb50-7" aria-hidden="true" tabindex="-1"></a>    total_salary, currency,</span>
<span id="cb50-8"><a href="#cb50-8" aria-hidden="true" tabindex="-1"></a>    gender, race_split,</span>
<span id="cb50-9"><a href="#cb50-9" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Add total salary in CAD and USD for comparing on the same scale</span></span>
<span id="cb50-10"><a href="#cb50-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">total_salary_cad =</span> <span class="fu">ifelse</span>(currency <span class="sc">==</span> <span class="st">"CAD"</span>, total_salary,</span>
<span id="cb50-11"><a href="#cb50-11" aria-hidden="true" tabindex="-1"></a>                              total_salary <span class="sc">*</span> <span class="fl">1.20</span>),</span>
<span id="cb50-12"><a href="#cb50-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">total_salary_usd =</span> <span class="fu">ifelse</span>(currency <span class="sc">==</span> <span class="st">"USD"</span>, total_salary,</span>
<span id="cb50-13"><a href="#cb50-13" aria-hidden="true" tabindex="-1"></a>                              total_salary <span class="sc">/</span> <span class="fl">1.20</span>)</span>
<span id="cb50-14"><a href="#cb50-14" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb50-15"><a href="#cb50-15" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(survey_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 530
Columns: 14
$ age_range        &lt;fct&gt; 25-34, 25-34, 35-44, 25-34, 18-24, 35-44, 25-34, 45-5…
$ industry         &lt;fct&gt; "Health care", "Government and Public Administration"…
$ job_title        &lt;chr&gt; "Data Programmer Analyst", "Manager of Data Integrity…
$ job_title_factor &lt;fct&gt; Data analyst, Director/manager/lead/coordinator/super…
$ country          &lt;chr&gt; "USA", "USA", "USA", "USA", "USA", "USA", "USA", "Can…
$ state            &lt;chr&gt; "Pennsylvania", "Virginia", "North Carolina", "Illino…
$ city             &lt;chr&gt; "Philadelphia", "Richmond", "Raleigh", "Chicago", "Br…
$ education        &lt;fct&gt; "Master's degree", "College degree", "Master's degree…
$ total_salary     &lt;dbl&gt; 74000, 65000, 80000, 100000, 62000, 195000, 71750, 11…
$ currency         &lt;chr&gt; "USD", "USD", "USD", "USD", "USD", "USD", "USD", "CAD…
$ gender           &lt;fct&gt; Woman, Man, Woman, Woman, Woman, Non-binary, Woman, W…
$ race_split       &lt;list&gt; "White", "White", "White", "White", "White", "White"…
$ total_salary_cad &lt;dbl&gt; 88800.0, 78000.0, 96000.0, 120000.0, 74400.0, 234000.…
$ total_salary_usd &lt;dbl&gt; 74000.00, 65000.00, 80000.00, 100000.00, 62000.00, 19…</code></pre>
</div>
</div>
<p>530 respondents, which represents 2% of the full data. Distribution by <code>job_title</code> and <code>country</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Canada red and USA blue</span></span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>country_colors <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"#FF0000"</span>, <span class="st">"#3B3B6D"</span>)</span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a>survey_data <span class="sc">%&gt;%</span></span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(country) <span class="sc">%&gt;%</span></span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">country_n =</span> glue<span class="sc">::</span><span class="fu">glue</span>(<span class="st">"{country} (n = {n()})"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb52-7"><a href="#cb52-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">y =</span> job_title_factor)) <span class="sc">+</span></span>
<span id="cb52-8"><a href="#cb52-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">fill =</span> country_n)) <span class="sc">+</span></span>
<span id="cb52-9"><a href="#cb52-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="st">"Number of respondents"</span>, <span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb52-10"><a href="#cb52-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="cn">NULL</span>, <span class="at">values =</span> country_colors) <span class="sc">+</span></span>
<span id="cb52-11"><a href="#cb52-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb52-12"><a href="#cb52-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="fu">c</span>(<span class="fl">0.6</span>, <span class="fl">0.7</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="tidytuesday-2021-week-21_files/figure-html/unnamed-chunk-48-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<section id="final-plot" class="level3">
<h3 class="anchored" data-anchor-id="final-plot">Final plot</h3>
<p>Finally, plot the salaries by job title, ordered by sample size:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggtext)</span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>p_subtitle <span class="ot">&lt;-</span></span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>  glue<span class="sc">::</span><span class="fu">glue</span>(</span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"From &lt;span style='color:{country_colors[2]}; font-weight:bold'&gt;"</span>,</span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">"{sum(survey_data$country == 'USA')} American&lt;/span&gt; and "</span>,</span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">"&lt;span style='color:{country_colors[1]}; font-weight:bold'&gt;"</span>,</span>
<span id="cb53-7"><a href="#cb53-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">"{sum(survey_data$country == 'Canada')} Canadian&lt;/span&gt; "</span>,</span>
<span id="cb53-8"><a href="#cb53-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">"survey respondents"</span></span>
<span id="cb53-9"><a href="#cb53-9" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb53-10"><a href="#cb53-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-11"><a href="#cb53-11" aria-hidden="true" tabindex="-1"></a>survey_data <span class="sc">%&gt;%</span></span>
<span id="cb53-12"><a href="#cb53-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">add_count</span>(job_title_factor) <span class="sc">%&gt;%</span></span>
<span id="cb53-13"><a href="#cb53-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">job_title_factor =</span> <span class="fu">fct_reorder</span>(job_title_factor, n)) <span class="sc">%&gt;%</span></span>
<span id="cb53-14"><a href="#cb53-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">y =</span> job_title_factor, <span class="at">x =</span> total_salary_cad)) <span class="sc">+</span></span>
<span id="cb53-15"><a href="#cb53-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">outlier.shape =</span> <span class="cn">NA</span>) <span class="sc">+</span></span>
<span id="cb53-16"><a href="#cb53-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="fu">aes</span>(<span class="at">color =</span> country), <span class="at">width =</span> <span class="dv">0</span>, <span class="at">height =</span> <span class="fl">0.25</span>,</span>
<span id="cb53-17"><a href="#cb53-17" aria-hidden="true" tabindex="-1"></a>              <span class="at">alpha =</span> <span class="fl">0.5</span>, <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb53-18"><a href="#cb53-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Salary distributions by job title"</span>,</span>
<span id="cb53-19"><a href="#cb53-19" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> p_subtitle,</span>
<span id="cb53-20"><a href="#cb53-20" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="fu">paste0</span>(<span class="st">"data from Ask a Manager | "</span>,</span>
<span id="cb53-21"><a href="#cb53-21" aria-hidden="true" tabindex="-1"></a>                        <span class="st">"plot by @TDunn12 for #TidyTuesday"</span>)) <span class="sc">+</span></span>
<span id="cb53-22"><a href="#cb53-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="cn">NULL</span>, <span class="at">values =</span> country_colors) <span class="sc">+</span></span>
<span id="cb53-23"><a href="#cb53-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_log10</span>(<span class="st">"Total salary in CAD (log scale)"</span>, <span class="at">labels =</span> scales<span class="sc">::</span>dollar,</span>
<span id="cb53-24"><a href="#cb53-24" aria-hidden="true" tabindex="-1"></a>                <span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">30000</span>, <span class="dv">50000</span>, <span class="dv">100000</span>, <span class="dv">200000</span>, <span class="dv">300000</span>)) <span class="sc">+</span></span>
<span id="cb53-25"><a href="#cb53-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_discrete</span>(<span class="cn">NULL</span>, <span class="at">labels =</span> <span class="sc">~</span><span class="fu">str_wrap</span>(., <span class="at">width =</span> <span class="dv">30</span>)) <span class="sc">+</span></span>
<span id="cb53-26"><a href="#cb53-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">panel.grid.major.x =</span> <span class="fu">element_line</span>(<span class="at">color =</span> <span class="st">"grey95"</span>),</span>
<span id="cb53-27"><a href="#cb53-27" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.subtitle =</span> <span class="fu">element_markdown</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="tidytuesday-2021-week-21_files/figure-html/unnamed-chunk-49-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>

</section>

<div id="quarto-appendix" class="default"><section id="reproducibility" class="level2 appendix unlisted"><h2 class="quarto-appendix-heading">Reproducibility</h2><div class="quarto-appendix-contents">

<details>
<summary>
Session info
</summary>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code> setting  value
 version  R version 4.2.1 (2022-06-23 ucrt)
 os       Windows 10 x64 (build 19044)
 system   x86_64, mingw32
 ui       RTerm
 language (EN)
 collate  English_Canada.utf8
 ctype    English_Canada.utf8
 tz       America/Curacao
 date     2022-09-10
 pandoc   2.18 @ C:/Program Files/RStudio/bin/quarto/bin/tools/ (via rmarkdown)</code></pre>
</div>
<div class="cell-output-display">

<div data-pagedtable="false">
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["package"],"name":[1],"type":["chr"],"align":["left"]},{"label":["ondiskversion"],"name":[2],"type":["chr"],"align":["left"]},{"label":["loadedversion"],"name":[3],"type":["chr"],"align":["left"]},{"label":["path"],"name":[4],"type":["chr"],"align":["left"]},{"label":["loadedpath"],"name":[5],"type":["chr"],"align":["left"]},{"label":["attached"],"name":[6],"type":["lgl"],"align":["right"]},{"label":["is_base"],"name":[7],"type":["lgl"],"align":["right"]},{"label":["date"],"name":[8],"type":["chr"],"align":["left"]},{"label":["source"],"name":[9],"type":["chr"],"align":["left"]},{"label":["md5ok"],"name":[10],"type":["lgl"],"align":["right"]},{"label":["library"],"name":[11],"type":["fct"],"align":["left"]}],"data":[{"1":"assertthat","2":"0.2.1","3":"0.2.1","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/assertthat","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/assertthat","6":"FALSE","7":"FALSE","8":"2019-03-21","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"assertthat"},{"1":"backports","2":"1.4.1","3":"1.4.1","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/backports","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/backports","6":"FALSE","7":"FALSE","8":"2021-12-13","9":"CRAN (R 4.2.0)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"backports"},{"1":"bit","2":"4.0.4","3":"4.0.4","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/bit","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/bit","6":"FALSE","7":"FALSE","8":"2020-08-04","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"bit"},{"1":"bit64","2":"4.0.5","3":"4.0.5","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/bit64","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/bit64","6":"FALSE","7":"FALSE","8":"2020-08-30","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"bit64"},{"1":"broom","2":"1.0.0","3":"1.0.0","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/broom","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/broom","6":"FALSE","7":"FALSE","8":"2022-07-01","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"broom"},{"1":"cachem","2":"1.0.6","3":"1.0.6","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/cachem","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/cachem","6":"FALSE","7":"FALSE","8":"2021-08-19","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"cachem"},{"1":"callr","2":"3.7.1","3":"3.7.1","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/callr","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/callr","6":"FALSE","7":"FALSE","8":"2022-07-13","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"callr"},{"1":"cellranger","2":"1.1.0","3":"1.1.0","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/cellranger","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/cellranger","6":"FALSE","7":"FALSE","8":"2016-07-27","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"cellranger"},{"1":"checkmate","2":"2.1.0","3":"2.1.0","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/checkmate","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/checkmate","6":"FALSE","7":"FALSE","8":"2022-04-21","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"checkmate"},{"1":"cli","2":"3.3.0","3":"3.3.0","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/cli","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/cli","6":"FALSE","7":"FALSE","8":"2022-04-25","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"cli"},{"1":"colorspace","2":"2.0.3","3":"2.0-3","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/colorspace","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/colorspace","6":"FALSE","7":"FALSE","8":"2022-02-21","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"colorspace"},{"1":"crayon","2":"1.5.1","3":"1.5.1","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/crayon","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/crayon","6":"FALSE","7":"FALSE","8":"2022-03-26","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"crayon"},{"1":"curl","2":"4.3.2","3":"4.3.2","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/curl","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/curl","6":"FALSE","7":"FALSE","8":"2021-06-23","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"curl"},{"1":"DBI","2":"1.1.3","3":"1.1.3","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/DBI","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/DBI","6":"FALSE","7":"FALSE","8":"2022-06-18","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"DBI"},{"1":"dbplyr","2":"2.2.1","3":"2.2.1","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/dbplyr","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/dbplyr","6":"FALSE","7":"FALSE","8":"2022-06-27","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"dbplyr"},{"1":"devtools","2":"2.4.4","3":"2.4.4","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/devtools","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/devtools","6":"FALSE","7":"FALSE","8":"2022-07-20","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"devtools"},{"1":"digest","2":"0.6.29","3":"0.6.29","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/digest","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/digest","6":"FALSE","7":"FALSE","8":"2021-12-01","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"digest"},{"1":"distill","2":"1.4","3":"1.4","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/distill","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/distill","6":"FALSE","7":"FALSE","8":"2022-05-12","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"distill"},{"1":"downlit","2":"0.4.2","3":"0.4.2","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/downlit","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/downlit","6":"FALSE","7":"FALSE","8":"2022-07-05","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"downlit"},{"1":"dplyr","2":"1.0.9","3":"1.0.9","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/dplyr","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/dplyr","6":"TRUE","7":"FALSE","8":"2022-04-28","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"dplyr"},{"1":"dunnr","2":"0.2.6","3":"0.2.6","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/dunnr","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/dunnr","6":"TRUE","7":"FALSE","8":"2022-08-07","9":"Github (taylordunn/dunnr@e2a82136012b9edae43fc5f8e728492125366267)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"dunnr"},{"1":"ellipsis","2":"0.3.2","3":"0.3.2","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/ellipsis","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/ellipsis","6":"FALSE","7":"FALSE","8":"2021-04-29","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"ellipsis"},{"1":"evaluate","2":"0.15","3":"0.15","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/evaluate","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/evaluate","6":"FALSE","7":"FALSE","8":"2022-02-18","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"evaluate"},{"1":"extrafont","2":"0.18","3":"0.18","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/extrafont","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/extrafont","6":"FALSE","7":"FALSE","8":"2022-04-12","9":"CRAN (R 4.2.0)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"extrafont"},{"1":"extrafontdb","2":"1.0","3":"1.0","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/extrafontdb","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/extrafontdb","6":"FALSE","7":"FALSE","8":"2012-06-11","9":"CRAN (R 4.2.0)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"extrafontdb"},{"1":"fansi","2":"1.0.3","3":"1.0.3","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/fansi","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/fansi","6":"FALSE","7":"FALSE","8":"2022-03-24","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"fansi"},{"1":"farver","2":"2.1.1","3":"2.1.1","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/farver","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/farver","6":"FALSE","7":"FALSE","8":"2022-07-06","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"farver"},{"1":"fastmap","2":"1.1.0","3":"1.1.0","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/fastmap","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/fastmap","6":"FALSE","7":"FALSE","8":"2021-01-25","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"fastmap"},{"1":"forcats","2":"0.5.1","3":"0.5.1","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/forcats","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/forcats","6":"TRUE","7":"FALSE","8":"2021-01-27","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"forcats"},{"1":"fs","2":"1.5.2","3":"1.5.2","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/fs","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/fs","6":"FALSE","7":"FALSE","8":"2021-12-08","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"fs"},{"1":"gargle","2":"1.2.0","3":"1.2.0","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/gargle","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/gargle","6":"FALSE","7":"FALSE","8":"2021-07-02","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"gargle"},{"1":"generics","2":"0.1.3","3":"0.1.3","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/generics","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/generics","6":"FALSE","7":"FALSE","8":"2022-07-05","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"generics"},{"1":"ggplot2","2":"3.3.6","3":"3.3.6","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/ggplot2","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/ggplot2","6":"TRUE","7":"FALSE","8":"2022-05-03","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"ggplot2"},{"1":"ggrepel","2":"0.9.1","3":"0.9.1","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/ggrepel","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/ggrepel","6":"FALSE","7":"FALSE","8":"2021-01-15","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"ggrepel"},{"1":"ggtext","2":"0.1.1","3":"0.1.1","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/ggtext","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/ggtext","6":"TRUE","7":"FALSE","8":"2020-12-17","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"ggtext"},{"1":"glue","2":"1.6.2","3":"1.6.2","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/glue","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/glue","6":"FALSE","7":"FALSE","8":"2022-02-24","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"glue"},{"1":"googledrive","2":"2.0.0","3":"2.0.0","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/googledrive","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/googledrive","6":"FALSE","7":"FALSE","8":"2021-07-08","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"googledrive"},{"1":"googlesheets4","2":"1.0.0","3":"1.0.0","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/googlesheets4","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/googlesheets4","6":"FALSE","7":"FALSE","8":"2021-07-21","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"googlesheets4"},{"1":"gridtext","2":"0.1.4","3":"0.1.4","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/gridtext","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/gridtext","6":"FALSE","7":"FALSE","8":"2020-12-10","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"gridtext"},{"1":"gt","2":"0.6.0","3":"0.6.0","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/gt","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/gt","6":"TRUE","7":"FALSE","8":"2022-05-24","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"gt"},{"1":"gtable","2":"0.3.0","3":"0.3.0","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/gtable","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/gtable","6":"FALSE","7":"FALSE","8":"2019-03-25","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"gtable"},{"1":"haven","2":"2.5.0","3":"2.5.0","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/haven","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/haven","6":"FALSE","7":"FALSE","8":"2022-04-15","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"haven"},{"1":"hms","2":"1.1.1","3":"1.1.1","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/hms","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/hms","6":"FALSE","7":"FALSE","8":"2021-09-26","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"hms"},{"1":"htmltools","2":"0.5.2","3":"0.5.2","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/htmltools","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/htmltools","6":"FALSE","7":"FALSE","8":"2021-08-25","9":"CRAN (R 4.2.1)","10":"NA","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"htmltools"},{"1":"htmlwidgets","2":"1.5.4","3":"1.5.4","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/htmlwidgets","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/htmlwidgets","6":"FALSE","7":"FALSE","8":"2021-09-08","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"htmlwidgets"},{"1":"httpuv","2":"1.6.5","3":"1.6.5","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/httpuv","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/httpuv","6":"FALSE","7":"FALSE","8":"2022-01-05","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"httpuv"},{"1":"httr","2":"1.4.3","3":"1.4.3","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/httr","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/httr","6":"FALSE","7":"FALSE","8":"2022-05-04","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"httr"},{"1":"jsonlite","2":"1.8.0","3":"1.8.0","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/jsonlite","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/jsonlite","6":"FALSE","7":"FALSE","8":"2022-02-22","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"jsonlite"},{"1":"knitr","2":"1.39","3":"1.39","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/knitr","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/knitr","6":"FALSE","7":"FALSE","8":"2022-04-26","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"knitr"},{"1":"labeling","2":"0.4.2","3":"0.4.2","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/labeling","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/labeling","6":"FALSE","7":"FALSE","8":"2020-10-20","9":"CRAN (R 4.2.0)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"labeling"},{"1":"later","2":"1.3.0","3":"1.3.0","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/later","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/later","6":"FALSE","7":"FALSE","8":"2021-08-18","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"later"},{"1":"lifecycle","2":"1.0.1","3":"1.0.1","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/lifecycle","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/lifecycle","6":"FALSE","7":"FALSE","8":"2021-09-24","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"lifecycle"},{"1":"lubridate","2":"1.8.0","3":"1.8.0","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/lubridate","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/lubridate","6":"TRUE","7":"FALSE","8":"2021-10-07","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"lubridate"},{"1":"magrittr","2":"2.0.3","3":"2.0.3","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/magrittr","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/magrittr","6":"FALSE","7":"FALSE","8":"2022-03-30","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"magrittr"},{"1":"markdown","2":"1.1","3":"1.1","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/markdown","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/markdown","6":"FALSE","7":"FALSE","8":"2019-08-07","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"markdown"},{"1":"memoise","2":"2.0.1","3":"2.0.1","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/memoise","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/memoise","6":"FALSE","7":"FALSE","8":"2021-11-26","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"memoise"},{"1":"mime","2":"0.12","3":"0.12","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/mime","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/mime","6":"FALSE","7":"FALSE","8":"2021-09-28","9":"CRAN (R 4.2.0)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"mime"},{"1":"miniUI","2":"0.1.1.1","3":"0.1.1.1","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/miniUI","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/miniUI","6":"FALSE","7":"FALSE","8":"2018-05-18","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"miniUI"},{"1":"modelr","2":"0.1.8","3":"0.1.8","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/modelr","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/modelr","6":"FALSE","7":"FALSE","8":"2020-05-19","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"modelr"},{"1":"munsell","2":"0.5.0","3":"0.5.0","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/munsell","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/munsell","6":"FALSE","7":"FALSE","8":"2018-06-12","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"munsell"},{"1":"pillar","2":"1.8.0","3":"1.8.0","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/pillar","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/pillar","6":"FALSE","7":"FALSE","8":"2022-07-18","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"pillar"},{"1":"pkgbuild","2":"1.3.1","3":"1.3.1","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/pkgbuild","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/pkgbuild","6":"FALSE","7":"FALSE","8":"2021-12-20","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"pkgbuild"},{"1":"pkgconfig","2":"2.0.3","3":"2.0.3","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/pkgconfig","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/pkgconfig","6":"FALSE","7":"FALSE","8":"2019-09-22","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"pkgconfig"},{"1":"pkgload","2":"1.3.0","3":"1.3.0","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/pkgload","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/pkgload","6":"FALSE","7":"FALSE","8":"2022-06-27","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"pkgload"},{"1":"prettyunits","2":"1.1.1","3":"1.1.1","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/prettyunits","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/prettyunits","6":"FALSE","7":"FALSE","8":"2020-01-24","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"prettyunits"},{"1":"processx","2":"3.7.0","3":"3.7.0","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/processx","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/processx","6":"FALSE","7":"FALSE","8":"2022-07-07","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"processx"},{"1":"profvis","2":"0.3.7","3":"0.3.7","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/profvis","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/profvis","6":"FALSE","7":"FALSE","8":"2020-11-02","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"profvis"},{"1":"promises","2":"1.2.0.1","3":"1.2.0.1","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/promises","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/promises","6":"FALSE","7":"FALSE","8":"2021-02-11","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"promises"},{"1":"ps","2":"1.7.1","3":"1.7.1","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/ps","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/ps","6":"FALSE","7":"FALSE","8":"2022-06-18","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"ps"},{"1":"purrr","2":"0.3.4","3":"0.3.4","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/purrr","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/purrr","6":"TRUE","7":"FALSE","8":"2020-04-17","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"purrr"},{"1":"R6","2":"2.5.1","3":"2.5.1","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/R6","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/R6","6":"FALSE","7":"FALSE","8":"2021-08-19","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"R6"},{"1":"ragg","2":"1.2.2","3":"1.2.2","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/ragg","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/ragg","6":"FALSE","7":"FALSE","8":"2022-02-21","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"ragg"},{"1":"Rcpp","2":"1.0.9","3":"1.0.9","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/Rcpp","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/Rcpp","6":"FALSE","7":"FALSE","8":"2022-07-08","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"Rcpp"},{"1":"readr","2":"2.1.2","3":"2.1.2","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/readr","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/readr","6":"TRUE","7":"FALSE","8":"2022-01-30","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"readr"},{"1":"readxl","2":"1.4.0","3":"1.4.0","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/readxl","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/readxl","6":"FALSE","7":"FALSE","8":"2022-03-28","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"readxl"},{"1":"remotes","2":"2.4.2","3":"2.4.2","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/remotes","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/remotes","6":"FALSE","7":"FALSE","8":"2021-11-30","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"remotes"},{"1":"renv","2":"0.15.5","3":"0.15.5","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/renv","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/renv","6":"FALSE","7":"FALSE","8":"2022-05-26","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"renv"},{"1":"reprex","2":"2.0.1","3":"2.0.1","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/reprex","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/reprex","6":"FALSE","7":"FALSE","8":"2021-08-05","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"reprex"},{"1":"rlang","2":"1.0.4","3":"1.0.4","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/rlang","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/rlang","6":"FALSE","7":"FALSE","8":"2022-07-12","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"rlang"},{"1":"rmarkdown","2":"2.14","3":"2.14","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/rmarkdown","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/rmarkdown","6":"FALSE","7":"FALSE","8":"2022-04-25","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"rmarkdown"},{"1":"rstudioapi","2":"0.13","3":"0.13","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/rstudioapi","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/rstudioapi","6":"FALSE","7":"FALSE","8":"2020-11-12","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"rstudioapi"},{"1":"Rttf2pt1","2":"1.3.8","3":"1.3.8","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/Rttf2pt1","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/Rttf2pt1","6":"FALSE","7":"FALSE","8":"2020-01-10","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"Rttf2pt1"},{"1":"rvest","2":"1.0.2","3":"1.0.2","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/rvest","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/rvest","6":"FALSE","7":"FALSE","8":"2021-10-16","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"rvest"},{"1":"sass","2":"0.4.2","3":"0.4.2","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/sass","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/sass","6":"FALSE","7":"FALSE","8":"2022-07-16","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"sass"},{"1":"scales","2":"1.2.0","3":"1.2.0","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/scales","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/scales","6":"FALSE","7":"FALSE","8":"2022-04-13","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"scales"},{"1":"selectr","2":"0.4.2","3":"0.4-2","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/selectr","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/selectr","6":"FALSE","7":"FALSE","8":"2019-11-20","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"selectr"},{"1":"sessioninfo","2":"1.2.2","3":"1.2.2","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/sessioninfo","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/sessioninfo","6":"FALSE","7":"FALSE","8":"2021-12-06","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"sessioninfo"},{"1":"shiny","2":"1.7.2","3":"1.7.2","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/shiny","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/shiny","6":"FALSE","7":"FALSE","8":"2022-07-19","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"shiny"},{"1":"stringi","2":"1.7.8","3":"1.7.8","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/stringi","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/stringi","6":"FALSE","7":"FALSE","8":"2022-07-11","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"stringi"},{"1":"stringr","2":"1.4.0","3":"1.4.0","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/stringr","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/stringr","6":"TRUE","7":"FALSE","8":"2019-02-10","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"stringr"},{"1":"systemfonts","2":"1.0.4","3":"1.0.4","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/systemfonts","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/systemfonts","6":"FALSE","7":"FALSE","8":"2022-02-11","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"systemfonts"},{"1":"textshaping","2":"0.3.6","3":"0.3.6","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/textshaping","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/textshaping","6":"FALSE","7":"FALSE","8":"2021-10-13","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"textshaping"},{"1":"tibble","2":"3.1.8","3":"3.1.8","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/tibble","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/tibble","6":"TRUE","7":"FALSE","8":"2022-07-22","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"tibble"},{"1":"tidyr","2":"1.2.0","3":"1.2.0","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/tidyr","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/tidyr","6":"TRUE","7":"FALSE","8":"2022-02-01","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"tidyr"},{"1":"tidyselect","2":"1.1.2","3":"1.1.2","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/tidyselect","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/tidyselect","6":"FALSE","7":"FALSE","8":"2022-02-21","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"tidyselect"},{"1":"tidytuesdayR","2":"1.0.2","3":"1.0.2","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/tidytuesdayR","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/tidytuesdayR","6":"TRUE","7":"FALSE","8":"2022-02-01","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"tidytuesdayR"},{"1":"tidyverse","2":"1.3.2","3":"1.3.2","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/tidyverse","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/tidyverse","6":"TRUE","7":"FALSE","8":"2022-07-18","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"tidyverse"},{"1":"tzdb","2":"0.3.0","3":"0.3.0","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/tzdb","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/tzdb","6":"FALSE","7":"FALSE","8":"2022-03-28","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"tzdb"},{"1":"urlchecker","2":"1.0.1","3":"1.0.1","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/urlchecker","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/urlchecker","6":"FALSE","7":"FALSE","8":"2021-11-30","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"urlchecker"},{"1":"usethis","2":"2.1.6","3":"2.1.6","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/usethis","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/usethis","6":"FALSE","7":"FALSE","8":"2022-05-25","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"usethis"},{"1":"utf8","2":"1.2.2","3":"1.2.2","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/utf8","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/utf8","6":"FALSE","7":"FALSE","8":"2021-07-24","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"utf8"},{"1":"vctrs","2":"0.4.1","3":"0.4.1","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/vctrs","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/vctrs","6":"FALSE","7":"FALSE","8":"2022-04-13","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"vctrs"},{"1":"viridisLite","2":"0.4.0","3":"0.4.0","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/viridisLite","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/viridisLite","6":"FALSE","7":"FALSE","8":"2021-04-13","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"viridisLite"},{"1":"vroom","2":"1.5.7","3":"1.5.7","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/vroom","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/vroom","6":"FALSE","7":"FALSE","8":"2021-11-30","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"vroom"},{"1":"withr","2":"2.5.0","3":"2.5.0","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/withr","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/withr","6":"FALSE","7":"FALSE","8":"2022-03-03","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"withr"},{"1":"xfun","2":"0.31","3":"0.31","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/xfun","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/xfun","6":"FALSE","7":"FALSE","8":"2022-05-10","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"xfun"},{"1":"xml2","2":"1.3.3","3":"1.3.3","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/xml2","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/xml2","6":"FALSE","7":"FALSE","8":"2021-11-30","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"xml2"},{"1":"xtable","2":"1.8.4","3":"1.8-4","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/xtable","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/xtable","6":"FALSE","7":"FALSE","8":"2019-04-21","9":"CRAN (R 4.2.1)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"xtable"},{"1":"yaml","2":"2.3.5","3":"2.3.5","4":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/yaml","5":"C:/Users/tdunn/AppData/Local/R/win-library/4.2/yaml","6":"FALSE","7":"FALSE","8":"2022-02-21","9":"CRAN (R 4.2.0)","10":"TRUE","11":"C:/Users/tdunn/AppData/Local/R/win-library/4.2","_rn_":"yaml"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</details>
<details>
<summary>
Git repository
</summary>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>Local:    main C:/Users/tdunn/Documents/tdunn-quarto
Remote:   main @ origin (https://github.com/taylordunn/tdunn-quarto.git)
Head:     [4a377af] 2022-09-10: Added ordinal regression post part 2</code></pre>
</div>
</div>
</details>
<p><a href="https://github.com/taylordunn/tdunn-quarto/tree/main/posts/2021-05-18-tidytuesday-2021-week-21">Source code</a>, <a href="https://github.com/taylordunn/tdunn-quarto/tree/main/posts/2021-05-18-tidytuesday-2021-week-21/renv.lock">R environment</a></p>


</div></section><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div quarto-reuse="quarto-reuse" class="quarto-appendix-contents"><a rel="license" href="https://creativecommons.org/licenses/by/4.0/">https://creativecommons.org/licenses/by/4.0/</a></div></section><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{dunn2021,
  author = {Taylor Dunn},
  title = {TidyTuesday 2021 {Week} 21},
  date = {2021-05-18},
  url = {https://tdunn.ca/posts/2021-05-18-tidytuesday-2021-week-21/tidytuesday-2021-week-21.html},
  langid = {en}
}
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-dunn2021" class="csl-entry quarto-appendix-citeas" role="doc-biblioentry">
Taylor Dunn. 2021. <span>“TidyTuesday 2021 Week 21.”</span> May 18,
2021. <a href="https://tdunn.ca/posts/2021-05-18-tidytuesday-2021-week-21/tidytuesday-2021-week-21.html">https://tdunn.ca/posts/2021-05-18-tidytuesday-2021-week-21/tidytuesday-2021-week-21.html</a>.
</div></div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    toggleBodyColorMode(window.document.querySelector("link#quarto-bootstrap"));
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
</div> <!-- /content -->



</body></html>